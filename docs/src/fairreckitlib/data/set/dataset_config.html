<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 12.0.0"/>
    <title>src.fairreckitlib.data.set.dataset_config API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../set.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;src.fairreckitlib.data.set</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="class" href="#DatasetFileConfig">DatasetFileConfig</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DatasetFileConfig.__init__">DatasetFileConfig</a>
                        </li>
                        <li>
                                <a class="function" href="#DatasetFileConfig.to_yml_format">to_yml_format</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DatasetTableConfig">DatasetTableConfig</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DatasetTableConfig.__init__">DatasetTableConfig</a>
                        </li>
                        <li>
                                <a class="function" href="#DatasetTableConfig.read_table">read_table</a>
                        </li>
                        <li>
                                <a class="function" href="#DatasetTableConfig.save_table">save_table</a>
                        </li>
                        <li>
                                <a class="function" href="#DatasetTableConfig.to_yml_format">to_yml_format</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DatasetIndexConfig">DatasetIndexConfig</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DatasetIndexConfig.__init__">DatasetIndexConfig</a>
                        </li>
                        <li>
                                <a class="function" href="#DatasetIndexConfig.load_indices">load_indices</a>
                        </li>
                        <li>
                                <a class="function" href="#DatasetIndexConfig.save_indices">save_indices</a>
                        </li>
                        <li>
                                <a class="function" href="#DatasetIndexConfig.to_yml_format">to_yml_format</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DatasetMatrixConfig">DatasetMatrixConfig</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DatasetMatrixConfig.__init__">DatasetMatrixConfig</a>
                        </li>
                        <li>
                                <a class="function" href="#DatasetMatrixConfig.load_matrix">load_matrix</a>
                        </li>
                        <li>
                                <a class="function" href="#DatasetMatrixConfig.to_yml_format">to_yml_format</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DatasetConfig">DatasetConfig</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DatasetConfig.__init__">DatasetConfig</a>
                        </li>
                        <li>
                                <a class="function" href="#DatasetConfig.get_available_columns">get_available_columns</a>
                        </li>
                        <li>
                                <a class="function" href="#DatasetConfig.to_yml_format">to_yml_format</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#create_dataset_table_config">create_dataset_table_config</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
src<wbr>.<a href="./../../../fairreckitlib.html">fairreckitlib</a><wbr>.<a href="./../../data.html">data</a><wbr>.<a href="./../set.html">set</a><wbr>.dataset_config    </h1>

                        <div class="docstring"><p>This module contains the dataset configuration classes and creation functions.</p>

<p>Constants:</p>

<pre><code>DATASET_RATINGS_EXPLICIT: dataset matrix with explicit ratings.
DATASET_RATINGS_IMPLICIT: dataset matrix with implicit ratings.
</code></pre>

<p>Classes:</p>

<pre><code>DatasetFileConfig: the configuration of a dataset file.
DatasetTableConfig: the configuration of a dataset table.
DatasetIndexConfig: the configuration of a dataset matrix' user/item indices.
DatasetMatrixConfig: the configuration of a dataset matrix.
DatasetConfig: the configuration of a dataset.
</code></pre>

<p>Functions:</p>

<pre><code>create_dataset_table_config: create configuration for a dataset table.
</code></pre>

<p>This program has been developed by students from the bachelor Computer Science at
Utrecht University within the Software Project course.
© Copyright Utrecht University (Department of Information and Computing Sciences)</p>
</div>

                        <input id="dataset_config-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="dataset_config-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="sd">&quot;&quot;&quot;This module contains the dataset configuration classes and creation functions.</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="sd">Constants:</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="sd">    DATASET_RATINGS_EXPLICIT: dataset matrix with explicit ratings.</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="sd">    DATASET_RATINGS_IMPLICIT: dataset matrix with implicit ratings.</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="sd">Classes:</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="sd">    DatasetFileConfig: the configuration of a dataset file.</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="sd">    DatasetTableConfig: the configuration of a dataset table.</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="sd">    DatasetIndexConfig: the configuration of a dataset matrix&#39; user/item indices.</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="sd">    DatasetMatrixConfig: the configuration of a dataset matrix.</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="sd">    DatasetConfig: the configuration of a dataset.</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="sd">Functions:</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="sd">    create_dataset_table_config: create configuration for a dataset table.</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="sd">This program has been developed by students from the bachelor Computer Science at</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="sd">Utrecht University within the Software Project course.</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="sd">© Copyright Utrecht University (Department of Information and Computing Sciences)</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="kn">import</span> <span class="nn">os</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="kn">from</span> <span class="nn">...core.core_constants</span> <span class="kn">import</span> <span class="n">KEY_NAME</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a><span class="kn">from</span> <span class="nn">...core.config.config_yml</span> <span class="kn">import</span> <span class="n">YmlConfig</span><span class="p">,</span> <span class="n">format_yml_config_dict</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="kn">from</span> <span class="nn">...core.io.io_utility</span> <span class="kn">import</span> <span class="n">load_array_from_hdf5</span><span class="p">,</span> <span class="n">save_array_to_hdf5</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="kn">from</span> <span class="nn">.dataset_constants</span> <span class="kn">import</span> <span class="n">KEY_RATING_MIN</span><span class="p">,</span> <span class="n">KEY_RATING_MAX</span><span class="p">,</span> <span class="n">KEY_RATING_TYPE</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="kn">from</span> <span class="nn">.dataset_constants</span> <span class="kn">import</span> <span class="n">KEY_MATRIX</span><span class="p">,</span> <span class="n">KEY_IDX_ITEM</span><span class="p">,</span> <span class="n">KEY_IDX_USER</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="kn">from</span> <span class="nn">.dataset_constants</span> <span class="kn">import</span> <span class="n">KEY_DATASET</span><span class="p">,</span> <span class="n">KEY_EVENTS</span><span class="p">,</span> <span class="n">KEY_MATRICES</span><span class="p">,</span> <span class="n">KEY_TABLES</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="kn">from</span> <span class="nn">.dataset_constants</span> <span class="kn">import</span> <span class="n">TABLE_KEY</span><span class="p">,</span> <span class="n">TABLE_PRIMARY_KEY</span><span class="p">,</span> <span class="n">TABLE_FOREIGN_KEYS</span><span class="p">,</span> <span class="n">TABLE_COLUMNS</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="kn">from</span> <span class="nn">.dataset_constants</span> <span class="kn">import</span> <span class="n">TABLE_FILE</span><span class="p">,</span> <span class="n">TABLE_COMPRESSION</span><span class="p">,</span> <span class="n">TABLE_ENCODING</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="kn">from</span> <span class="nn">.dataset_constants</span> <span class="kn">import</span> <span class="n">TABLE_HEADER</span><span class="p">,</span> <span class="n">TABLE_INDEXED</span><span class="p">,</span> <span class="n">TABLE_NUM_RECORDS</span><span class="p">,</span> <span class="n">TABLE_SEP</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="n">DATASET_RATINGS_EXPLICIT</span> <span class="o">=</span> <span class="s1">&#39;explicit&#39;</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a><span class="n">DATASET_RATINGS_IMPLICIT</span> <span class="o">=</span> <span class="s1">&#39;implicit&#39;</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="nd">@dataclass</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span class="k">class</span> <span class="nc">DatasetFileConfig</span><span class="p">(</span><span class="n">YmlConfig</span><span class="p">):</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Dataset File Configuration.</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a><span class="sd">    name: the file name.</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a><span class="sd">    sep: the separator in the file or None for \t.</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a><span class="sd">    compression: the (optional) compression of the file.</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="sd">    encoding: the encoding of the file or None for &#39;utf-8&#39;.</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="sd">    header: is there a header on the first line of the file.</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a><span class="sd">    indexed: are the row indices the table&#39;s primary key.</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>    <span class="n">sep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>    <span class="n">compression</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>    <span class="n">encoding</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>    <span class="n">header</span><span class="p">:</span> <span class="nb">bool</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>    <span class="n">indexed</span><span class="p">:</span> <span class="nb">bool</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset file configuration to a yml compatible dictionary.</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a><span class="sd">        Returns:</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a><span class="sd">            a dictionary containing the dataset file configuration.</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span><span class="n">KEY_NAME</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">:</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_HEADER</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexed</span><span class="p">:</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_INDEXED</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexed</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_SEP</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">compression</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_COMPRESSION</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compression</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_ENCODING</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a><span class="nd">@dataclass</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a><span class="k">class</span> <span class="nc">DatasetTableConfig</span><span class="p">(</span><span class="n">YmlConfig</span><span class="p">):</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>    <span class="sd">&quot;&quot;&quot;Dataset Table Configuration.</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a><span class="sd">    The configuration expects the table to have the primary key as the first column(s) and in order</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="sd">    in which they are specified. These are followed by the columns of relevant data and any foreign</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a><span class="sd">    keys should be in order as the last column(s). However, it is also allowed that the foreign</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a><span class="sd">    keys describe the primary key, but individually rather than the combination of.</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a><span class="sd">    primary_key: list of column names that form the primary key of the table.</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a><span class="sd">    foreign_keys: (optional) list of column names that are foreign keys in other tables.</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="sd">    columns: list of column names that contain the relevant table data.</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a><span class="sd">    num_records: the number of records in the table.</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a><span class="sd">    file: the dataset file configuration of the table.</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>    <span class="n">primary_key</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>    <span class="n">foreign_keys</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>    <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>    <span class="n">num_records</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>    <span class="n">file</span><span class="p">:</span> <span class="n">DatasetFileConfig</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>    <span class="k">def</span> <span class="nf">read_table</span><span class="p">(</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>            <span class="bp">self</span><span class="p">,</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>            <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>            <span class="o">*</span><span class="p">,</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>            <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>            <span class="n">chunk_size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>        <span class="sd">&quot;&quot;&quot;Read the table from the specified directory.</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a><span class="sd">        Args:</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a><span class="sd">            dataset_dir: the directory to read the table from.</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a><span class="sd">            columns: subset list of columns to load or None to load all.</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a><span class="sd">                All elements must either be integer indices or</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a><span class="sd">                strings that correspond to the &#39;names&#39; argument.</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a><span class="sd">            chunk_size: loads the table in chunks as an iterator or</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a><span class="sd">                the entire table when None.</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a><span class="sd">        Returns:</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a><span class="sd">            the resulting table (iterator).</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">indexed</span><span class="p">:</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>            <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_key</span> <span class="o">+</span> <span class="n">names</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>            <span class="n">names</span> <span class="o">+=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span> <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_key</span><span class="p">]</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>        <span class="n">dataset_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>            <span class="n">sep</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>            <span class="n">header</span><span class="o">=</span><span class="mi">0</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">header</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>            <span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">,</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>            <span class="n">usecols</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>            <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">,</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>            <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;infer&#39;</span><span class="p">,</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>            <span class="n">chunksize</span><span class="o">=</span><span class="n">chunk_size</span><span class="p">,</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>            <span class="n">iterator</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">chunk_size</span><span class="p">)</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>        <span class="p">)</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>        <span class="k">return</span> <span class="n">dataset_table</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>    <span class="k">def</span> <span class="nf">save_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_table</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>        <span class="sd">&quot;&quot;&quot;Save the table in the specified directory.</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a><span class="sd">        Args:</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a><span class="sd">            dataset_table: the dataframe to save with this table configuration.</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a><span class="sd">            dataset_dir: the directory to save the table to.</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>        <span class="n">dataset_table</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>            <span class="n">sep</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>            <span class="n">header</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">header</span><span class="p">,</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>            <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>            <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="k">else</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">,</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>            <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="k">else</span> <span class="s1">&#39;infer&#39;</span><span class="p">,</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>        <span class="p">)</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset table configuration to a yml compatible dictionary.</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a><span class="sd">        Returns:</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a><span class="sd">            a dictionary containing the dataset table configuration.</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>            <span class="n">TABLE_FILE</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>            <span class="n">TABLE_PRIMARY_KEY</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_key</span><span class="p">,</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>            <span class="n">TABLE_COLUMNS</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>            <span class="n">TABLE_NUM_RECORDS</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_records</span><span class="p">,</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>        <span class="p">}</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_FOREIGN_KEYS</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a><span class="nd">@dataclass</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a><span class="k">class</span> <span class="nc">DatasetIndexConfig</span><span class="p">(</span><span class="n">YmlConfig</span><span class="p">):</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>    <span class="sd">&quot;&quot;&quot;Dataset Matrix&#39; Index Configuration.</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a><span class="sd">    file_name: (optional) file name that contains the user/item indirection array.</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a><span class="sd">    key: the key that is associated with the user/item.</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a><span class="sd">    num_records: the number of user/item records</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>    <span class="n">file_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>    <span class="n">num_records</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>    <span class="k">def</span> <span class="nf">load_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>        <span class="sd">&quot;&quot;&quot;Load the indices from the specified directory.</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a><span class="sd">        This function raises a FileNotFoundError when the file is not</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a><span class="sd">        found in the specified directory.</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a><span class="sd">        Args:</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a><span class="sd">            dataset_dir: the directory to load the indices from.</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a><span class="sd">        Returns:</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a><span class="sd">            the resulting indices or None when not available.</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>        <span class="k">return</span> <span class="n">load_array_from_hdf5</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="p">),</span> <span class="s1">&#39;indices&#39;</span><span class="p">)</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>    <span class="k">def</span> <span class="nf">save_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">indices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>        <span class="sd">&quot;&quot;&quot;Save the indices to the specified directory.</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a><span class="sd">        Args:</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a><span class="sd">            dataset_dir: the directory to save the indices to.</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a><span class="sd">            indices: the list of indices to save.</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a><span class="sd">        Returns:</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a><span class="sd">            true when the indices are saved or false when the configuration has no file name.</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>        <span class="n">save_array_to_hdf5</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="p">),</span> <span class="n">indices</span><span class="p">,</span> <span class="s1">&#39;indices&#39;</span><span class="p">)</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset index configuration to a yml compatible dictionary.</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a><span class="sd">        Returns:</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a><span class="sd">            a dictionary containing the dataset index configuration.</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>            <span class="n">TABLE_KEY</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>            <span class="n">TABLE_NUM_RECORDS</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_records</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>        <span class="p">}</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_FILE</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a><span class="nd">@dataclass</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a><span class="k">class</span> <span class="nc">DatasetMatrixConfig</span><span class="p">(</span><span class="n">YmlConfig</span><span class="p">):</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>    <span class="sd">&quot;&quot;&quot;Dataset Matrix Configuration.</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a><span class="sd">    table: the table configuration of the matrix.</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a><span class="sd">    rating_min: the minimum rating in the matrix.</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a><span class="sd">    rating_max: the maximum rating in the matrix.</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a><span class="sd">    rating_type: the type of the rating in the matrix, either &#39;explicit&#39; or &#39;implicit&#39;.</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a><span class="sd">    user: the dataset index configuration for the users in the matrix.</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a><span class="sd">    item: the dataset index configuration for the items in the matrix.</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>    <span class="n">table</span><span class="p">:</span> <span class="n">DatasetTableConfig</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>    <span class="n">rating_min</span><span class="p">:</span> <span class="nb">float</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>    <span class="n">rating_max</span><span class="p">:</span> <span class="nb">float</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>    <span class="n">rating_type</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>    <span class="n">user</span><span class="p">:</span> <span class="n">DatasetIndexConfig</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>    <span class="n">item</span><span class="p">:</span> <span class="n">DatasetIndexConfig</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>    <span class="k">def</span> <span class="nf">load_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>        <span class="sd">&quot;&quot;&quot;Load the matrix from the specified directory.</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a><span class="sd">        Args:</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a><span class="sd">            dataset_dir: directory path to where the dataset matrix is stored.</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a><span class="sd">        Returns:</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a><span class="sd">            the resulting matrix (iterator).</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>        <span class="n">matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>        <span class="n">columns</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="s1">&#39;item&#39;</span><span class="p">,</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="s1">&#39;rating&#39;</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>        <span class="p">}</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>            <span class="n">columns</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;timestamp&#39;</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>        <span class="k">return</span> <span class="n">matrix</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset matrix configuration to a yml compatible dictionary.</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a><span class="sd">        Returns:</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a><span class="sd">            a dictionary containing the dataset matrix configuration.</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>            <span class="n">KEY_IDX_ITEM</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>            <span class="n">KEY_IDX_USER</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>            <span class="n">KEY_MATRIX</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>            <span class="n">KEY_RATING_MIN</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rating_min</span><span class="p">,</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>            <span class="n">KEY_RATING_MAX</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rating_max</span><span class="p">,</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>            <span class="n">KEY_RATING_TYPE</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rating_type</span><span class="p">,</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>        <span class="p">}</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a><span class="nd">@dataclass</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a><span class="k">class</span> <span class="nc">DatasetConfig</span><span class="p">(</span><span class="n">YmlConfig</span><span class="p">):</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>    <span class="sd">&quot;&quot;&quot;Dataset Configuration.</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a><span class="sd">    dataset_name: the name of the dataset.</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a><span class="sd">    events: dictionary containing the available user event tables.</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a><span class="sd">    matrices: dictionary containing the available user-item matrices.</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a><span class="sd">    tables: dictionary containing the (additionally) available tables.</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>    <span class="n">dataset_name</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>    <span class="n">events</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DatasetTableConfig</span><span class="p">]</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>    <span class="n">matrices</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DatasetMatrixConfig</span><span class="p">]</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>    <span class="n">tables</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DatasetTableConfig</span><span class="p">]</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>    <span class="k">def</span> <span class="nf">get_available_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>        <span class="sd">&quot;&quot;&quot;Get the available columns of the specified matrix.</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a><span class="sd">        Only the table names and columns that have a one-to-one relation will be returned.</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a><span class="sd">        This function does not raise errors and will return an empty dictionary when</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a><span class="sd">        the specified matrix is not present in the dataset.</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a><span class="sd">        Args:</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a><span class="sd">            matrix_name: the name of the matrix to get the available columns of.</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a><span class="sd">        Returns:</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a><span class="sd">            a dictionary containing the table names as key and the available columns as value.</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>        <span class="k">if</span> <span class="n">matrix_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">:</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>            <span class="k">return</span> <span class="p">{}</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>        <span class="n">matrix_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">[</span><span class="n">matrix_name</span><span class="p">]</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="n">KEY_MATRIX</span><span class="p">:</span> <span class="n">matrix_config</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">}</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>        <span class="n">user_key</span> <span class="o">=</span> <span class="p">[</span><span class="n">matrix_config</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>        <span class="n">item_key</span> <span class="o">=</span> <span class="p">[</span><span class="n">matrix_config</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>        <span class="n">user_item_key</span> <span class="o">=</span> <span class="p">[</span><span class="n">user_key</span><span class="p">,</span> <span class="n">item_key</span><span class="p">]</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>        <span class="k">for</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">table_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tables</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>            <span class="n">key</span> <span class="o">=</span> <span class="n">table_config</span><span class="o">.</span><span class="n">primary_key</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="n">user_key</span><span class="p">,</span> <span class="n">item_key</span><span class="p">,</span> <span class="n">user_item_key</span><span class="p">):</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>                <span class="n">result</span><span class="p">[</span><span class="n">table_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">table_config</span><span class="o">.</span><span class="n">columns</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset configuration to a yml compatible dictionary.</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a><span class="sd">        Returns:</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a><span class="sd">            a dictionary containing the dataset configuration.</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span><span class="n">KEY_DATASET</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset_name</span><span class="p">}</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">KEY_EVENTS</span><span class="p">]</span> <span class="o">=</span> <span class="n">format_yml_config_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">)</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">KEY_MATRICES</span><span class="p">]</span> <span class="o">=</span> <span class="n">format_yml_config_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">)</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tables</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">KEY_TABLES</span><span class="p">]</span> <span class="o">=</span> <span class="n">format_yml_config_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tables</span><span class="p">)</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a><span class="k">def</span> <span class="nf">create_dataset_table_config</span><span class="p">(</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>        <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>        <span class="n">primary_key</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>        <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>        <span class="n">compression</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>        <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>        <span class="n">foreign_keys</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>        <span class="n">header</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>        <span class="n">indexed</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>        <span class="n">num_records</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>        <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DatasetTableConfig</span><span class="p">:</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>    <span class="sd">&quot;&quot;&quot;Create a dataset table configuration.</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a><span class="sd">    Args:</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a><span class="sd">        file_name: name of the dataset table file.</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a><span class="sd">        primary_key: a list of strings that are combined the primary key of the table.</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a><span class="sd">        columns: a list of strings with other available columns in the table.</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a><span class="sd">        compression:  the (optional) compression of the file, &#39;bz2&#39; is recommended.</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a><span class="sd">        encoding: the encoding for reading/writing the table contents or None for &#39;utf-8&#39;.</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a><span class="sd">        foreign_keys: (optional) list of column names that are foreign keys in other tables.</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a><span class="sd">        header: whether the table file contains a header on the first line.</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a><span class="sd">        indexed: are the row indices the table&#39;s primary key.</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a><span class="sd">        num_records: the number of records in the table.</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a><span class="sd">        sep: the delimiter that is used in the table or None for a tab separator.</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a><span class="sd">    Returns:</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a><span class="sd">        the resulting data table configuration.</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>    <span class="k">return</span> <span class="n">DatasetTableConfig</span><span class="p">(</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>        <span class="n">primary_key</span><span class="p">,</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>        <span class="n">foreign_keys</span><span class="p">,</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>        <span class="n">columns</span><span class="p">,</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>        <span class="n">num_records</span><span class="p">,</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>        <span class="n">DatasetFileConfig</span><span class="p">(</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>            <span class="n">file_name</span><span class="p">,</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>            <span class="n">sep</span><span class="p">,</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>            <span class="n">compression</span><span class="p">,</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>            <span class="n">encoding</span><span class="p">,</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>            <span class="n">header</span><span class="p">,</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>            <span class="n">indexed</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>        <span class="p">)</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>    <span class="p">)</span>
</span></pre></div>


            </section>
                <section id="DatasetFileConfig">
                            <input id="DatasetFileConfig-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass</div>

    <span class="def">class</span>
    <span class="name">DatasetFileConfig</span><wbr>(<span class="base"><a href="../../core/config/config_yml.html#YmlConfig">src.fairreckitlib.core.config.config_yml.YmlConfig</a></span>):

                <label class="view-source-button" for="DatasetFileConfig-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetFileConfig"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetFileConfig-46"><a href="#DatasetFileConfig-46"><span class="linenos">46</span></a><span class="nd">@dataclass</span>
</span><span id="DatasetFileConfig-47"><a href="#DatasetFileConfig-47"><span class="linenos">47</span></a><span class="k">class</span> <span class="nc">DatasetFileConfig</span><span class="p">(</span><span class="n">YmlConfig</span><span class="p">):</span>
</span><span id="DatasetFileConfig-48"><a href="#DatasetFileConfig-48"><span class="linenos">48</span></a>    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Dataset File Configuration.</span>
</span><span id="DatasetFileConfig-49"><a href="#DatasetFileConfig-49"><span class="linenos">49</span></a>
</span><span id="DatasetFileConfig-50"><a href="#DatasetFileConfig-50"><span class="linenos">50</span></a><span class="sd">    name: the file name.</span>
</span><span id="DatasetFileConfig-51"><a href="#DatasetFileConfig-51"><span class="linenos">51</span></a><span class="sd">    sep: the separator in the file or None for \t.</span>
</span><span id="DatasetFileConfig-52"><a href="#DatasetFileConfig-52"><span class="linenos">52</span></a><span class="sd">    compression: the (optional) compression of the file.</span>
</span><span id="DatasetFileConfig-53"><a href="#DatasetFileConfig-53"><span class="linenos">53</span></a><span class="sd">    encoding: the encoding of the file or None for &#39;utf-8&#39;.</span>
</span><span id="DatasetFileConfig-54"><a href="#DatasetFileConfig-54"><span class="linenos">54</span></a><span class="sd">    header: is there a header on the first line of the file.</span>
</span><span id="DatasetFileConfig-55"><a href="#DatasetFileConfig-55"><span class="linenos">55</span></a><span class="sd">    indexed: are the row indices the table&#39;s primary key.</span>
</span><span id="DatasetFileConfig-56"><a href="#DatasetFileConfig-56"><span class="linenos">56</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DatasetFileConfig-57"><a href="#DatasetFileConfig-57"><span class="linenos">57</span></a>
</span><span id="DatasetFileConfig-58"><a href="#DatasetFileConfig-58"><span class="linenos">58</span></a>    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="DatasetFileConfig-59"><a href="#DatasetFileConfig-59"><span class="linenos">59</span></a>    <span class="n">sep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="DatasetFileConfig-60"><a href="#DatasetFileConfig-60"><span class="linenos">60</span></a>    <span class="n">compression</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="DatasetFileConfig-61"><a href="#DatasetFileConfig-61"><span class="linenos">61</span></a>    <span class="n">encoding</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="DatasetFileConfig-62"><a href="#DatasetFileConfig-62"><span class="linenos">62</span></a>    <span class="n">header</span><span class="p">:</span> <span class="nb">bool</span>
</span><span id="DatasetFileConfig-63"><a href="#DatasetFileConfig-63"><span class="linenos">63</span></a>    <span class="n">indexed</span><span class="p">:</span> <span class="nb">bool</span>
</span><span id="DatasetFileConfig-64"><a href="#DatasetFileConfig-64"><span class="linenos">64</span></a>
</span><span id="DatasetFileConfig-65"><a href="#DatasetFileConfig-65"><span class="linenos">65</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DatasetFileConfig-66"><a href="#DatasetFileConfig-66"><span class="linenos">66</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset file configuration to a yml compatible dictionary.</span>
</span><span id="DatasetFileConfig-67"><a href="#DatasetFileConfig-67"><span class="linenos">67</span></a>
</span><span id="DatasetFileConfig-68"><a href="#DatasetFileConfig-68"><span class="linenos">68</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetFileConfig-69"><a href="#DatasetFileConfig-69"><span class="linenos">69</span></a><span class="sd">            a dictionary containing the dataset file configuration.</span>
</span><span id="DatasetFileConfig-70"><a href="#DatasetFileConfig-70"><span class="linenos">70</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetFileConfig-71"><a href="#DatasetFileConfig-71"><span class="linenos">71</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span><span class="n">KEY_NAME</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
</span><span id="DatasetFileConfig-72"><a href="#DatasetFileConfig-72"><span class="linenos">72</span></a>
</span><span id="DatasetFileConfig-73"><a href="#DatasetFileConfig-73"><span class="linenos">73</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">:</span>
</span><span id="DatasetFileConfig-74"><a href="#DatasetFileConfig-74"><span class="linenos">74</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_HEADER</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span>
</span><span id="DatasetFileConfig-75"><a href="#DatasetFileConfig-75"><span class="linenos">75</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexed</span><span class="p">:</span>
</span><span id="DatasetFileConfig-76"><a href="#DatasetFileConfig-76"><span class="linenos">76</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_INDEXED</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexed</span>
</span><span id="DatasetFileConfig-77"><a href="#DatasetFileConfig-77"><span class="linenos">77</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetFileConfig-78"><a href="#DatasetFileConfig-78"><span class="linenos">78</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_SEP</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span>
</span><span id="DatasetFileConfig-79"><a href="#DatasetFileConfig-79"><span class="linenos">79</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">compression</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetFileConfig-80"><a href="#DatasetFileConfig-80"><span class="linenos">80</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_COMPRESSION</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compression</span>
</span><span id="DatasetFileConfig-81"><a href="#DatasetFileConfig-81"><span class="linenos">81</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetFileConfig-82"><a href="#DatasetFileConfig-82"><span class="linenos">82</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_ENCODING</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</span><span id="DatasetFileConfig-83"><a href="#DatasetFileConfig-83"><span class="linenos">83</span></a>
</span><span id="DatasetFileConfig-84"><a href="#DatasetFileConfig-84"><span class="linenos">84</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span></pre></div>


            <div class="docstring"><p>Dataset File Configuration.</p>

<p>name: the file name.
sep: the separator in the file or None for \t.
compression: the (optional) compression of the file.
encoding: the encoding of the file or None for 'utf-8'.
header: is there a header on the first line of the file.
indexed: are the row indices the table's primary key.</p>
</div>


                            <div id="DatasetFileConfig.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">DatasetFileConfig</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">name</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">sep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">compression</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">encoding</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">header</span><span class="p">:</span> <span class="nb">bool</span>,</span><span class="param">	<span class="n">indexed</span><span class="p">:</span> <span class="nb">bool</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#DatasetFileConfig.__init__"></a>
    
    

                            </div>
                            <div id="DatasetFileConfig.to_yml_format" class="classattr">
                                        <input id="DatasetFileConfig.to_yml_format-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_yml_format</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span>)</span>

                <label class="view-source-button" for="DatasetFileConfig.to_yml_format-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetFileConfig.to_yml_format"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetFileConfig.to_yml_format-65"><a href="#DatasetFileConfig.to_yml_format-65"><span class="linenos">65</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DatasetFileConfig.to_yml_format-66"><a href="#DatasetFileConfig.to_yml_format-66"><span class="linenos">66</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset file configuration to a yml compatible dictionary.</span>
</span><span id="DatasetFileConfig.to_yml_format-67"><a href="#DatasetFileConfig.to_yml_format-67"><span class="linenos">67</span></a>
</span><span id="DatasetFileConfig.to_yml_format-68"><a href="#DatasetFileConfig.to_yml_format-68"><span class="linenos">68</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetFileConfig.to_yml_format-69"><a href="#DatasetFileConfig.to_yml_format-69"><span class="linenos">69</span></a><span class="sd">            a dictionary containing the dataset file configuration.</span>
</span><span id="DatasetFileConfig.to_yml_format-70"><a href="#DatasetFileConfig.to_yml_format-70"><span class="linenos">70</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetFileConfig.to_yml_format-71"><a href="#DatasetFileConfig.to_yml_format-71"><span class="linenos">71</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span><span class="n">KEY_NAME</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
</span><span id="DatasetFileConfig.to_yml_format-72"><a href="#DatasetFileConfig.to_yml_format-72"><span class="linenos">72</span></a>
</span><span id="DatasetFileConfig.to_yml_format-73"><a href="#DatasetFileConfig.to_yml_format-73"><span class="linenos">73</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">:</span>
</span><span id="DatasetFileConfig.to_yml_format-74"><a href="#DatasetFileConfig.to_yml_format-74"><span class="linenos">74</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_HEADER</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span>
</span><span id="DatasetFileConfig.to_yml_format-75"><a href="#DatasetFileConfig.to_yml_format-75"><span class="linenos">75</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexed</span><span class="p">:</span>
</span><span id="DatasetFileConfig.to_yml_format-76"><a href="#DatasetFileConfig.to_yml_format-76"><span class="linenos">76</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_INDEXED</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexed</span>
</span><span id="DatasetFileConfig.to_yml_format-77"><a href="#DatasetFileConfig.to_yml_format-77"><span class="linenos">77</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetFileConfig.to_yml_format-78"><a href="#DatasetFileConfig.to_yml_format-78"><span class="linenos">78</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_SEP</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span>
</span><span id="DatasetFileConfig.to_yml_format-79"><a href="#DatasetFileConfig.to_yml_format-79"><span class="linenos">79</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">compression</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetFileConfig.to_yml_format-80"><a href="#DatasetFileConfig.to_yml_format-80"><span class="linenos">80</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_COMPRESSION</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compression</span>
</span><span id="DatasetFileConfig.to_yml_format-81"><a href="#DatasetFileConfig.to_yml_format-81"><span class="linenos">81</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetFileConfig.to_yml_format-82"><a href="#DatasetFileConfig.to_yml_format-82"><span class="linenos">82</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_ENCODING</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</span><span id="DatasetFileConfig.to_yml_format-83"><a href="#DatasetFileConfig.to_yml_format-83"><span class="linenos">83</span></a>
</span><span id="DatasetFileConfig.to_yml_format-84"><a href="#DatasetFileConfig.to_yml_format-84"><span class="linenos">84</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span></pre></div>


            <div class="docstring"><p>Format dataset file configuration to a yml compatible dictionary.</p>

<p>Returns:
    a dictionary containing the dataset file configuration.</p>
</div>


                            </div>
                </section>
                <section id="DatasetTableConfig">
                            <input id="DatasetTableConfig-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass</div>

    <span class="def">class</span>
    <span class="name">DatasetTableConfig</span><wbr>(<span class="base"><a href="../../core/config/config_yml.html#YmlConfig">src.fairreckitlib.core.config.config_yml.YmlConfig</a></span>):

                <label class="view-source-button" for="DatasetTableConfig-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetTableConfig"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetTableConfig-87"><a href="#DatasetTableConfig-87"><span class="linenos"> 87</span></a><span class="nd">@dataclass</span>
</span><span id="DatasetTableConfig-88"><a href="#DatasetTableConfig-88"><span class="linenos"> 88</span></a><span class="k">class</span> <span class="nc">DatasetTableConfig</span><span class="p">(</span><span class="n">YmlConfig</span><span class="p">):</span>
</span><span id="DatasetTableConfig-89"><a href="#DatasetTableConfig-89"><span class="linenos"> 89</span></a>    <span class="sd">&quot;&quot;&quot;Dataset Table Configuration.</span>
</span><span id="DatasetTableConfig-90"><a href="#DatasetTableConfig-90"><span class="linenos"> 90</span></a>
</span><span id="DatasetTableConfig-91"><a href="#DatasetTableConfig-91"><span class="linenos"> 91</span></a><span class="sd">    The configuration expects the table to have the primary key as the first column(s) and in order</span>
</span><span id="DatasetTableConfig-92"><a href="#DatasetTableConfig-92"><span class="linenos"> 92</span></a><span class="sd">    in which they are specified. These are followed by the columns of relevant data and any foreign</span>
</span><span id="DatasetTableConfig-93"><a href="#DatasetTableConfig-93"><span class="linenos"> 93</span></a><span class="sd">    keys should be in order as the last column(s). However, it is also allowed that the foreign</span>
</span><span id="DatasetTableConfig-94"><a href="#DatasetTableConfig-94"><span class="linenos"> 94</span></a><span class="sd">    keys describe the primary key, but individually rather than the combination of.</span>
</span><span id="DatasetTableConfig-95"><a href="#DatasetTableConfig-95"><span class="linenos"> 95</span></a>
</span><span id="DatasetTableConfig-96"><a href="#DatasetTableConfig-96"><span class="linenos"> 96</span></a><span class="sd">    primary_key: list of column names that form the primary key of the table.</span>
</span><span id="DatasetTableConfig-97"><a href="#DatasetTableConfig-97"><span class="linenos"> 97</span></a><span class="sd">    foreign_keys: (optional) list of column names that are foreign keys in other tables.</span>
</span><span id="DatasetTableConfig-98"><a href="#DatasetTableConfig-98"><span class="linenos"> 98</span></a><span class="sd">    columns: list of column names that contain the relevant table data.</span>
</span><span id="DatasetTableConfig-99"><a href="#DatasetTableConfig-99"><span class="linenos"> 99</span></a><span class="sd">    num_records: the number of records in the table.</span>
</span><span id="DatasetTableConfig-100"><a href="#DatasetTableConfig-100"><span class="linenos">100</span></a><span class="sd">    file: the dataset file configuration of the table.</span>
</span><span id="DatasetTableConfig-101"><a href="#DatasetTableConfig-101"><span class="linenos">101</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DatasetTableConfig-102"><a href="#DatasetTableConfig-102"><span class="linenos">102</span></a>
</span><span id="DatasetTableConfig-103"><a href="#DatasetTableConfig-103"><span class="linenos">103</span></a>    <span class="n">primary_key</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="DatasetTableConfig-104"><a href="#DatasetTableConfig-104"><span class="linenos">104</span></a>    <span class="n">foreign_keys</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
</span><span id="DatasetTableConfig-105"><a href="#DatasetTableConfig-105"><span class="linenos">105</span></a>    <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="DatasetTableConfig-106"><a href="#DatasetTableConfig-106"><span class="linenos">106</span></a>    <span class="n">num_records</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="DatasetTableConfig-107"><a href="#DatasetTableConfig-107"><span class="linenos">107</span></a>    <span class="n">file</span><span class="p">:</span> <span class="n">DatasetFileConfig</span>
</span><span id="DatasetTableConfig-108"><a href="#DatasetTableConfig-108"><span class="linenos">108</span></a>
</span><span id="DatasetTableConfig-109"><a href="#DatasetTableConfig-109"><span class="linenos">109</span></a>    <span class="k">def</span> <span class="nf">read_table</span><span class="p">(</span>
</span><span id="DatasetTableConfig-110"><a href="#DatasetTableConfig-110"><span class="linenos">110</span></a>            <span class="bp">self</span><span class="p">,</span>
</span><span id="DatasetTableConfig-111"><a href="#DatasetTableConfig-111"><span class="linenos">111</span></a>            <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="DatasetTableConfig-112"><a href="#DatasetTableConfig-112"><span class="linenos">112</span></a>            <span class="o">*</span><span class="p">,</span>
</span><span id="DatasetTableConfig-113"><a href="#DatasetTableConfig-113"><span class="linenos">113</span></a>            <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="DatasetTableConfig-114"><a href="#DatasetTableConfig-114"><span class="linenos">114</span></a>            <span class="n">chunk_size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="DatasetTableConfig-115"><a href="#DatasetTableConfig-115"><span class="linenos">115</span></a>        <span class="sd">&quot;&quot;&quot;Read the table from the specified directory.</span>
</span><span id="DatasetTableConfig-116"><a href="#DatasetTableConfig-116"><span class="linenos">116</span></a>
</span><span id="DatasetTableConfig-117"><a href="#DatasetTableConfig-117"><span class="linenos">117</span></a><span class="sd">        Args:</span>
</span><span id="DatasetTableConfig-118"><a href="#DatasetTableConfig-118"><span class="linenos">118</span></a><span class="sd">            dataset_dir: the directory to read the table from.</span>
</span><span id="DatasetTableConfig-119"><a href="#DatasetTableConfig-119"><span class="linenos">119</span></a><span class="sd">            columns: subset list of columns to load or None to load all.</span>
</span><span id="DatasetTableConfig-120"><a href="#DatasetTableConfig-120"><span class="linenos">120</span></a><span class="sd">                All elements must either be integer indices or</span>
</span><span id="DatasetTableConfig-121"><a href="#DatasetTableConfig-121"><span class="linenos">121</span></a><span class="sd">                strings that correspond to the &#39;names&#39; argument.</span>
</span><span id="DatasetTableConfig-122"><a href="#DatasetTableConfig-122"><span class="linenos">122</span></a><span class="sd">            chunk_size: loads the table in chunks as an iterator or</span>
</span><span id="DatasetTableConfig-123"><a href="#DatasetTableConfig-123"><span class="linenos">123</span></a><span class="sd">                the entire table when None.</span>
</span><span id="DatasetTableConfig-124"><a href="#DatasetTableConfig-124"><span class="linenos">124</span></a>
</span><span id="DatasetTableConfig-125"><a href="#DatasetTableConfig-125"><span class="linenos">125</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetTableConfig-126"><a href="#DatasetTableConfig-126"><span class="linenos">126</span></a><span class="sd">            the resulting table (iterator).</span>
</span><span id="DatasetTableConfig-127"><a href="#DatasetTableConfig-127"><span class="linenos">127</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetTableConfig-128"><a href="#DatasetTableConfig-128"><span class="linenos">128</span></a>        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span>
</span><span id="DatasetTableConfig-129"><a href="#DatasetTableConfig-129"><span class="linenos">129</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">indexed</span><span class="p">:</span>
</span><span id="DatasetTableConfig-130"><a href="#DatasetTableConfig-130"><span class="linenos">130</span></a>            <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_key</span> <span class="o">+</span> <span class="n">names</span>
</span><span id="DatasetTableConfig-131"><a href="#DatasetTableConfig-131"><span class="linenos">131</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetTableConfig-132"><a href="#DatasetTableConfig-132"><span class="linenos">132</span></a>            <span class="n">names</span> <span class="o">+=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span> <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_key</span><span class="p">]</span>
</span><span id="DatasetTableConfig-133"><a href="#DatasetTableConfig-133"><span class="linenos">133</span></a>
</span><span id="DatasetTableConfig-134"><a href="#DatasetTableConfig-134"><span class="linenos">134</span></a>        <span class="n">dataset_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span>
</span><span id="DatasetTableConfig-135"><a href="#DatasetTableConfig-135"><span class="linenos">135</span></a>            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
</span><span id="DatasetTableConfig-136"><a href="#DatasetTableConfig-136"><span class="linenos">136</span></a>            <span class="n">sep</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig-137"><a href="#DatasetTableConfig-137"><span class="linenos">137</span></a>            <span class="n">header</span><span class="o">=</span><span class="mi">0</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">header</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DatasetTableConfig-138"><a href="#DatasetTableConfig-138"><span class="linenos">138</span></a>            <span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">,</span>
</span><span id="DatasetTableConfig-139"><a href="#DatasetTableConfig-139"><span class="linenos">139</span></a>            <span class="n">usecols</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
</span><span id="DatasetTableConfig-140"><a href="#DatasetTableConfig-140"><span class="linenos">140</span></a>            <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig-141"><a href="#DatasetTableConfig-141"><span class="linenos">141</span></a>            <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;infer&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig-142"><a href="#DatasetTableConfig-142"><span class="linenos">142</span></a>            <span class="n">chunksize</span><span class="o">=</span><span class="n">chunk_size</span><span class="p">,</span>
</span><span id="DatasetTableConfig-143"><a href="#DatasetTableConfig-143"><span class="linenos">143</span></a>            <span class="n">iterator</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">chunk_size</span><span class="p">)</span>
</span><span id="DatasetTableConfig-144"><a href="#DatasetTableConfig-144"><span class="linenos">144</span></a>        <span class="p">)</span>
</span><span id="DatasetTableConfig-145"><a href="#DatasetTableConfig-145"><span class="linenos">145</span></a>
</span><span id="DatasetTableConfig-146"><a href="#DatasetTableConfig-146"><span class="linenos">146</span></a>        <span class="k">return</span> <span class="n">dataset_table</span>
</span><span id="DatasetTableConfig-147"><a href="#DatasetTableConfig-147"><span class="linenos">147</span></a>
</span><span id="DatasetTableConfig-148"><a href="#DatasetTableConfig-148"><span class="linenos">148</span></a>    <span class="k">def</span> <span class="nf">save_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_table</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetTableConfig-149"><a href="#DatasetTableConfig-149"><span class="linenos">149</span></a>        <span class="sd">&quot;&quot;&quot;Save the table in the specified directory.</span>
</span><span id="DatasetTableConfig-150"><a href="#DatasetTableConfig-150"><span class="linenos">150</span></a>
</span><span id="DatasetTableConfig-151"><a href="#DatasetTableConfig-151"><span class="linenos">151</span></a><span class="sd">        Args:</span>
</span><span id="DatasetTableConfig-152"><a href="#DatasetTableConfig-152"><span class="linenos">152</span></a><span class="sd">            dataset_table: the dataframe to save with this table configuration.</span>
</span><span id="DatasetTableConfig-153"><a href="#DatasetTableConfig-153"><span class="linenos">153</span></a><span class="sd">            dataset_dir: the directory to save the table to.</span>
</span><span id="DatasetTableConfig-154"><a href="#DatasetTableConfig-154"><span class="linenos">154</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetTableConfig-155"><a href="#DatasetTableConfig-155"><span class="linenos">155</span></a>        <span class="n">dataset_table</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span>
</span><span id="DatasetTableConfig-156"><a href="#DatasetTableConfig-156"><span class="linenos">156</span></a>            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
</span><span id="DatasetTableConfig-157"><a href="#DatasetTableConfig-157"><span class="linenos">157</span></a>            <span class="n">sep</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig-158"><a href="#DatasetTableConfig-158"><span class="linenos">158</span></a>            <span class="n">header</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">header</span><span class="p">,</span>
</span><span id="DatasetTableConfig-159"><a href="#DatasetTableConfig-159"><span class="linenos">159</span></a>            <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="DatasetTableConfig-160"><a href="#DatasetTableConfig-160"><span class="linenos">160</span></a>            <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="k">else</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig-161"><a href="#DatasetTableConfig-161"><span class="linenos">161</span></a>            <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="k">else</span> <span class="s1">&#39;infer&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig-162"><a href="#DatasetTableConfig-162"><span class="linenos">162</span></a>        <span class="p">)</span>
</span><span id="DatasetTableConfig-163"><a href="#DatasetTableConfig-163"><span class="linenos">163</span></a>
</span><span id="DatasetTableConfig-164"><a href="#DatasetTableConfig-164"><span class="linenos">164</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="DatasetTableConfig-165"><a href="#DatasetTableConfig-165"><span class="linenos">165</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset table configuration to a yml compatible dictionary.</span>
</span><span id="DatasetTableConfig-166"><a href="#DatasetTableConfig-166"><span class="linenos">166</span></a>
</span><span id="DatasetTableConfig-167"><a href="#DatasetTableConfig-167"><span class="linenos">167</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetTableConfig-168"><a href="#DatasetTableConfig-168"><span class="linenos">168</span></a><span class="sd">            a dictionary containing the dataset table configuration.</span>
</span><span id="DatasetTableConfig-169"><a href="#DatasetTableConfig-169"><span class="linenos">169</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetTableConfig-170"><a href="#DatasetTableConfig-170"><span class="linenos">170</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="DatasetTableConfig-171"><a href="#DatasetTableConfig-171"><span class="linenos">171</span></a>            <span class="n">TABLE_FILE</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="DatasetTableConfig-172"><a href="#DatasetTableConfig-172"><span class="linenos">172</span></a>            <span class="n">TABLE_PRIMARY_KEY</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_key</span><span class="p">,</span>
</span><span id="DatasetTableConfig-173"><a href="#DatasetTableConfig-173"><span class="linenos">173</span></a>            <span class="n">TABLE_COLUMNS</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
</span><span id="DatasetTableConfig-174"><a href="#DatasetTableConfig-174"><span class="linenos">174</span></a>            <span class="n">TABLE_NUM_RECORDS</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_records</span><span class="p">,</span>
</span><span id="DatasetTableConfig-175"><a href="#DatasetTableConfig-175"><span class="linenos">175</span></a>        <span class="p">}</span>
</span><span id="DatasetTableConfig-176"><a href="#DatasetTableConfig-176"><span class="linenos">176</span></a>
</span><span id="DatasetTableConfig-177"><a href="#DatasetTableConfig-177"><span class="linenos">177</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetTableConfig-178"><a href="#DatasetTableConfig-178"><span class="linenos">178</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_FOREIGN_KEYS</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span>
</span><span id="DatasetTableConfig-179"><a href="#DatasetTableConfig-179"><span class="linenos">179</span></a>
</span><span id="DatasetTableConfig-180"><a href="#DatasetTableConfig-180"><span class="linenos">180</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span></pre></div>


            <div class="docstring"><p>Dataset Table Configuration.</p>

<p>The configuration expects the table to have the primary key as the first column(s) and in order
in which they are specified. These are followed by the columns of relevant data and any foreign
keys should be in order as the last column(s). However, it is also allowed that the foreign
keys describe the primary key, but individually rather than the combination of.</p>

<p>primary_key: list of column names that form the primary key of the table.
foreign_keys: (optional) list of column names that are foreign keys in other tables.
columns: list of column names that contain the relevant table data.
num_records: the number of records in the table.
file: the dataset file configuration of the table.</p>
</div>


                            <div id="DatasetTableConfig.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">DatasetTableConfig</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">primary_key</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">foreign_keys</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>,</span><span class="param">	<span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">num_records</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">file</span><span class="p">:</span> <span class="n">src</span><span class="o">.</span><span class="n">fairreckitlib</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">dataset_config</span><span class="o">.</span><span class="n">DatasetFileConfig</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#DatasetTableConfig.__init__"></a>
    
    

                            </div>
                            <div id="DatasetTableConfig.read_table" class="classattr">
                                        <input id="DatasetTableConfig.read_table-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_table</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">chunk_size</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

                <label class="view-source-button" for="DatasetTableConfig.read_table-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetTableConfig.read_table"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetTableConfig.read_table-109"><a href="#DatasetTableConfig.read_table-109"><span class="linenos">109</span></a>    <span class="k">def</span> <span class="nf">read_table</span><span class="p">(</span>
</span><span id="DatasetTableConfig.read_table-110"><a href="#DatasetTableConfig.read_table-110"><span class="linenos">110</span></a>            <span class="bp">self</span><span class="p">,</span>
</span><span id="DatasetTableConfig.read_table-111"><a href="#DatasetTableConfig.read_table-111"><span class="linenos">111</span></a>            <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="DatasetTableConfig.read_table-112"><a href="#DatasetTableConfig.read_table-112"><span class="linenos">112</span></a>            <span class="o">*</span><span class="p">,</span>
</span><span id="DatasetTableConfig.read_table-113"><a href="#DatasetTableConfig.read_table-113"><span class="linenos">113</span></a>            <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="DatasetTableConfig.read_table-114"><a href="#DatasetTableConfig.read_table-114"><span class="linenos">114</span></a>            <span class="n">chunk_size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="DatasetTableConfig.read_table-115"><a href="#DatasetTableConfig.read_table-115"><span class="linenos">115</span></a>        <span class="sd">&quot;&quot;&quot;Read the table from the specified directory.</span>
</span><span id="DatasetTableConfig.read_table-116"><a href="#DatasetTableConfig.read_table-116"><span class="linenos">116</span></a>
</span><span id="DatasetTableConfig.read_table-117"><a href="#DatasetTableConfig.read_table-117"><span class="linenos">117</span></a><span class="sd">        Args:</span>
</span><span id="DatasetTableConfig.read_table-118"><a href="#DatasetTableConfig.read_table-118"><span class="linenos">118</span></a><span class="sd">            dataset_dir: the directory to read the table from.</span>
</span><span id="DatasetTableConfig.read_table-119"><a href="#DatasetTableConfig.read_table-119"><span class="linenos">119</span></a><span class="sd">            columns: subset list of columns to load or None to load all.</span>
</span><span id="DatasetTableConfig.read_table-120"><a href="#DatasetTableConfig.read_table-120"><span class="linenos">120</span></a><span class="sd">                All elements must either be integer indices or</span>
</span><span id="DatasetTableConfig.read_table-121"><a href="#DatasetTableConfig.read_table-121"><span class="linenos">121</span></a><span class="sd">                strings that correspond to the &#39;names&#39; argument.</span>
</span><span id="DatasetTableConfig.read_table-122"><a href="#DatasetTableConfig.read_table-122"><span class="linenos">122</span></a><span class="sd">            chunk_size: loads the table in chunks as an iterator or</span>
</span><span id="DatasetTableConfig.read_table-123"><a href="#DatasetTableConfig.read_table-123"><span class="linenos">123</span></a><span class="sd">                the entire table when None.</span>
</span><span id="DatasetTableConfig.read_table-124"><a href="#DatasetTableConfig.read_table-124"><span class="linenos">124</span></a>
</span><span id="DatasetTableConfig.read_table-125"><a href="#DatasetTableConfig.read_table-125"><span class="linenos">125</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetTableConfig.read_table-126"><a href="#DatasetTableConfig.read_table-126"><span class="linenos">126</span></a><span class="sd">            the resulting table (iterator).</span>
</span><span id="DatasetTableConfig.read_table-127"><a href="#DatasetTableConfig.read_table-127"><span class="linenos">127</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetTableConfig.read_table-128"><a href="#DatasetTableConfig.read_table-128"><span class="linenos">128</span></a>        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span>
</span><span id="DatasetTableConfig.read_table-129"><a href="#DatasetTableConfig.read_table-129"><span class="linenos">129</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">indexed</span><span class="p">:</span>
</span><span id="DatasetTableConfig.read_table-130"><a href="#DatasetTableConfig.read_table-130"><span class="linenos">130</span></a>            <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_key</span> <span class="o">+</span> <span class="n">names</span>
</span><span id="DatasetTableConfig.read_table-131"><a href="#DatasetTableConfig.read_table-131"><span class="linenos">131</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetTableConfig.read_table-132"><a href="#DatasetTableConfig.read_table-132"><span class="linenos">132</span></a>            <span class="n">names</span> <span class="o">+=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span> <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_key</span><span class="p">]</span>
</span><span id="DatasetTableConfig.read_table-133"><a href="#DatasetTableConfig.read_table-133"><span class="linenos">133</span></a>
</span><span id="DatasetTableConfig.read_table-134"><a href="#DatasetTableConfig.read_table-134"><span class="linenos">134</span></a>        <span class="n">dataset_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span>
</span><span id="DatasetTableConfig.read_table-135"><a href="#DatasetTableConfig.read_table-135"><span class="linenos">135</span></a>            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
</span><span id="DatasetTableConfig.read_table-136"><a href="#DatasetTableConfig.read_table-136"><span class="linenos">136</span></a>            <span class="n">sep</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig.read_table-137"><a href="#DatasetTableConfig.read_table-137"><span class="linenos">137</span></a>            <span class="n">header</span><span class="o">=</span><span class="mi">0</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">header</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DatasetTableConfig.read_table-138"><a href="#DatasetTableConfig.read_table-138"><span class="linenos">138</span></a>            <span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">,</span>
</span><span id="DatasetTableConfig.read_table-139"><a href="#DatasetTableConfig.read_table-139"><span class="linenos">139</span></a>            <span class="n">usecols</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span>
</span><span id="DatasetTableConfig.read_table-140"><a href="#DatasetTableConfig.read_table-140"><span class="linenos">140</span></a>            <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig.read_table-141"><a href="#DatasetTableConfig.read_table-141"><span class="linenos">141</span></a>            <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;infer&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig.read_table-142"><a href="#DatasetTableConfig.read_table-142"><span class="linenos">142</span></a>            <span class="n">chunksize</span><span class="o">=</span><span class="n">chunk_size</span><span class="p">,</span>
</span><span id="DatasetTableConfig.read_table-143"><a href="#DatasetTableConfig.read_table-143"><span class="linenos">143</span></a>            <span class="n">iterator</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">chunk_size</span><span class="p">)</span>
</span><span id="DatasetTableConfig.read_table-144"><a href="#DatasetTableConfig.read_table-144"><span class="linenos">144</span></a>        <span class="p">)</span>
</span><span id="DatasetTableConfig.read_table-145"><a href="#DatasetTableConfig.read_table-145"><span class="linenos">145</span></a>
</span><span id="DatasetTableConfig.read_table-146"><a href="#DatasetTableConfig.read_table-146"><span class="linenos">146</span></a>        <span class="k">return</span> <span class="n">dataset_table</span>
</span></pre></div>


            <div class="docstring"><p>Read the table from the specified directory.</p>

<p>Args:
    dataset_dir: the directory to read the table from.
    columns: subset list of columns to load or None to load all.
        All elements must either be integer indices or
        strings that correspond to the 'names' argument.
    chunk_size: loads the table in chunks as an iterator or
        the entire table when None.</p>

<p>Returns:
    the resulting table (iterator).</p>
</div>


                            </div>
                            <div id="DatasetTableConfig.save_table" class="classattr">
                                        <input id="DatasetTableConfig.save_table-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">save_table</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">dataset_table</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>,</span><span class="param">	<span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="DatasetTableConfig.save_table-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetTableConfig.save_table"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetTableConfig.save_table-148"><a href="#DatasetTableConfig.save_table-148"><span class="linenos">148</span></a>    <span class="k">def</span> <span class="nf">save_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_table</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetTableConfig.save_table-149"><a href="#DatasetTableConfig.save_table-149"><span class="linenos">149</span></a>        <span class="sd">&quot;&quot;&quot;Save the table in the specified directory.</span>
</span><span id="DatasetTableConfig.save_table-150"><a href="#DatasetTableConfig.save_table-150"><span class="linenos">150</span></a>
</span><span id="DatasetTableConfig.save_table-151"><a href="#DatasetTableConfig.save_table-151"><span class="linenos">151</span></a><span class="sd">        Args:</span>
</span><span id="DatasetTableConfig.save_table-152"><a href="#DatasetTableConfig.save_table-152"><span class="linenos">152</span></a><span class="sd">            dataset_table: the dataframe to save with this table configuration.</span>
</span><span id="DatasetTableConfig.save_table-153"><a href="#DatasetTableConfig.save_table-153"><span class="linenos">153</span></a><span class="sd">            dataset_dir: the directory to save the table to.</span>
</span><span id="DatasetTableConfig.save_table-154"><a href="#DatasetTableConfig.save_table-154"><span class="linenos">154</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetTableConfig.save_table-155"><a href="#DatasetTableConfig.save_table-155"><span class="linenos">155</span></a>        <span class="n">dataset_table</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span>
</span><span id="DatasetTableConfig.save_table-156"><a href="#DatasetTableConfig.save_table-156"><span class="linenos">156</span></a>            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
</span><span id="DatasetTableConfig.save_table-157"><a href="#DatasetTableConfig.save_table-157"><span class="linenos">157</span></a>            <span class="n">sep</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">sep</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig.save_table-158"><a href="#DatasetTableConfig.save_table-158"><span class="linenos">158</span></a>            <span class="n">header</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">header</span><span class="p">,</span>
</span><span id="DatasetTableConfig.save_table-159"><a href="#DatasetTableConfig.save_table-159"><span class="linenos">159</span></a>            <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="DatasetTableConfig.save_table-160"><a href="#DatasetTableConfig.save_table-160"><span class="linenos">160</span></a>            <span class="n">encoding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">encoding</span> <span class="k">else</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig.save_table-161"><a href="#DatasetTableConfig.save_table-161"><span class="linenos">161</span></a>            <span class="n">compression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">compression</span> <span class="k">else</span> <span class="s1">&#39;infer&#39;</span><span class="p">,</span>
</span><span id="DatasetTableConfig.save_table-162"><a href="#DatasetTableConfig.save_table-162"><span class="linenos">162</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Save the table in the specified directory.</p>

<p>Args:
    dataset_table: the dataframe to save with this table configuration.
    dataset_dir: the directory to save the table to.</p>
</div>


                            </div>
                            <div id="DatasetTableConfig.to_yml_format" class="classattr">
                                        <input id="DatasetTableConfig.to_yml_format-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_yml_format</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="DatasetTableConfig.to_yml_format-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetTableConfig.to_yml_format"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetTableConfig.to_yml_format-164"><a href="#DatasetTableConfig.to_yml_format-164"><span class="linenos">164</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="DatasetTableConfig.to_yml_format-165"><a href="#DatasetTableConfig.to_yml_format-165"><span class="linenos">165</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset table configuration to a yml compatible dictionary.</span>
</span><span id="DatasetTableConfig.to_yml_format-166"><a href="#DatasetTableConfig.to_yml_format-166"><span class="linenos">166</span></a>
</span><span id="DatasetTableConfig.to_yml_format-167"><a href="#DatasetTableConfig.to_yml_format-167"><span class="linenos">167</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetTableConfig.to_yml_format-168"><a href="#DatasetTableConfig.to_yml_format-168"><span class="linenos">168</span></a><span class="sd">            a dictionary containing the dataset table configuration.</span>
</span><span id="DatasetTableConfig.to_yml_format-169"><a href="#DatasetTableConfig.to_yml_format-169"><span class="linenos">169</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetTableConfig.to_yml_format-170"><a href="#DatasetTableConfig.to_yml_format-170"><span class="linenos">170</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="DatasetTableConfig.to_yml_format-171"><a href="#DatasetTableConfig.to_yml_format-171"><span class="linenos">171</span></a>            <span class="n">TABLE_FILE</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="DatasetTableConfig.to_yml_format-172"><a href="#DatasetTableConfig.to_yml_format-172"><span class="linenos">172</span></a>            <span class="n">TABLE_PRIMARY_KEY</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary_key</span><span class="p">,</span>
</span><span id="DatasetTableConfig.to_yml_format-173"><a href="#DatasetTableConfig.to_yml_format-173"><span class="linenos">173</span></a>            <span class="n">TABLE_COLUMNS</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
</span><span id="DatasetTableConfig.to_yml_format-174"><a href="#DatasetTableConfig.to_yml_format-174"><span class="linenos">174</span></a>            <span class="n">TABLE_NUM_RECORDS</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_records</span><span class="p">,</span>
</span><span id="DatasetTableConfig.to_yml_format-175"><a href="#DatasetTableConfig.to_yml_format-175"><span class="linenos">175</span></a>        <span class="p">}</span>
</span><span id="DatasetTableConfig.to_yml_format-176"><a href="#DatasetTableConfig.to_yml_format-176"><span class="linenos">176</span></a>
</span><span id="DatasetTableConfig.to_yml_format-177"><a href="#DatasetTableConfig.to_yml_format-177"><span class="linenos">177</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetTableConfig.to_yml_format-178"><a href="#DatasetTableConfig.to_yml_format-178"><span class="linenos">178</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_FOREIGN_KEYS</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">foreign_keys</span>
</span><span id="DatasetTableConfig.to_yml_format-179"><a href="#DatasetTableConfig.to_yml_format-179"><span class="linenos">179</span></a>
</span><span id="DatasetTableConfig.to_yml_format-180"><a href="#DatasetTableConfig.to_yml_format-180"><span class="linenos">180</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span></pre></div>


            <div class="docstring"><p>Format dataset table configuration to a yml compatible dictionary.</p>

<p>Returns:
    a dictionary containing the dataset table configuration.</p>
</div>


                            </div>
                </section>
                <section id="DatasetIndexConfig">
                            <input id="DatasetIndexConfig-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass</div>

    <span class="def">class</span>
    <span class="name">DatasetIndexConfig</span><wbr>(<span class="base"><a href="../../core/config/config_yml.html#YmlConfig">src.fairreckitlib.core.config.config_yml.YmlConfig</a></span>):

                <label class="view-source-button" for="DatasetIndexConfig-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetIndexConfig"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetIndexConfig-183"><a href="#DatasetIndexConfig-183"><span class="linenos">183</span></a><span class="nd">@dataclass</span>
</span><span id="DatasetIndexConfig-184"><a href="#DatasetIndexConfig-184"><span class="linenos">184</span></a><span class="k">class</span> <span class="nc">DatasetIndexConfig</span><span class="p">(</span><span class="n">YmlConfig</span><span class="p">):</span>
</span><span id="DatasetIndexConfig-185"><a href="#DatasetIndexConfig-185"><span class="linenos">185</span></a>    <span class="sd">&quot;&quot;&quot;Dataset Matrix&#39; Index Configuration.</span>
</span><span id="DatasetIndexConfig-186"><a href="#DatasetIndexConfig-186"><span class="linenos">186</span></a>
</span><span id="DatasetIndexConfig-187"><a href="#DatasetIndexConfig-187"><span class="linenos">187</span></a><span class="sd">    file_name: (optional) file name that contains the user/item indirection array.</span>
</span><span id="DatasetIndexConfig-188"><a href="#DatasetIndexConfig-188"><span class="linenos">188</span></a><span class="sd">    key: the key that is associated with the user/item.</span>
</span><span id="DatasetIndexConfig-189"><a href="#DatasetIndexConfig-189"><span class="linenos">189</span></a><span class="sd">    num_records: the number of user/item records</span>
</span><span id="DatasetIndexConfig-190"><a href="#DatasetIndexConfig-190"><span class="linenos">190</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DatasetIndexConfig-191"><a href="#DatasetIndexConfig-191"><span class="linenos">191</span></a>
</span><span id="DatasetIndexConfig-192"><a href="#DatasetIndexConfig-192"><span class="linenos">192</span></a>    <span class="n">file_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="DatasetIndexConfig-193"><a href="#DatasetIndexConfig-193"><span class="linenos">193</span></a>    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="DatasetIndexConfig-194"><a href="#DatasetIndexConfig-194"><span class="linenos">194</span></a>    <span class="n">num_records</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="DatasetIndexConfig-195"><a href="#DatasetIndexConfig-195"><span class="linenos">195</span></a>
</span><span id="DatasetIndexConfig-196"><a href="#DatasetIndexConfig-196"><span class="linenos">196</span></a>    <span class="k">def</span> <span class="nf">load_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
</span><span id="DatasetIndexConfig-197"><a href="#DatasetIndexConfig-197"><span class="linenos">197</span></a>        <span class="sd">&quot;&quot;&quot;Load the indices from the specified directory.</span>
</span><span id="DatasetIndexConfig-198"><a href="#DatasetIndexConfig-198"><span class="linenos">198</span></a>
</span><span id="DatasetIndexConfig-199"><a href="#DatasetIndexConfig-199"><span class="linenos">199</span></a><span class="sd">        This function raises a FileNotFoundError when the file is not</span>
</span><span id="DatasetIndexConfig-200"><a href="#DatasetIndexConfig-200"><span class="linenos">200</span></a><span class="sd">        found in the specified directory.</span>
</span><span id="DatasetIndexConfig-201"><a href="#DatasetIndexConfig-201"><span class="linenos">201</span></a>
</span><span id="DatasetIndexConfig-202"><a href="#DatasetIndexConfig-202"><span class="linenos">202</span></a><span class="sd">        Args:</span>
</span><span id="DatasetIndexConfig-203"><a href="#DatasetIndexConfig-203"><span class="linenos">203</span></a><span class="sd">            dataset_dir: the directory to load the indices from.</span>
</span><span id="DatasetIndexConfig-204"><a href="#DatasetIndexConfig-204"><span class="linenos">204</span></a>
</span><span id="DatasetIndexConfig-205"><a href="#DatasetIndexConfig-205"><span class="linenos">205</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetIndexConfig-206"><a href="#DatasetIndexConfig-206"><span class="linenos">206</span></a><span class="sd">            the resulting indices or None when not available.</span>
</span><span id="DatasetIndexConfig-207"><a href="#DatasetIndexConfig-207"><span class="linenos">207</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetIndexConfig-208"><a href="#DatasetIndexConfig-208"><span class="linenos">208</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetIndexConfig-209"><a href="#DatasetIndexConfig-209"><span class="linenos">209</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="DatasetIndexConfig-210"><a href="#DatasetIndexConfig-210"><span class="linenos">210</span></a>
</span><span id="DatasetIndexConfig-211"><a href="#DatasetIndexConfig-211"><span class="linenos">211</span></a>        <span class="k">return</span> <span class="n">load_array_from_hdf5</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="p">),</span> <span class="s1">&#39;indices&#39;</span><span class="p">)</span>
</span><span id="DatasetIndexConfig-212"><a href="#DatasetIndexConfig-212"><span class="linenos">212</span></a>
</span><span id="DatasetIndexConfig-213"><a href="#DatasetIndexConfig-213"><span class="linenos">213</span></a>    <span class="k">def</span> <span class="nf">save_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">indices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DatasetIndexConfig-214"><a href="#DatasetIndexConfig-214"><span class="linenos">214</span></a>        <span class="sd">&quot;&quot;&quot;Save the indices to the specified directory.</span>
</span><span id="DatasetIndexConfig-215"><a href="#DatasetIndexConfig-215"><span class="linenos">215</span></a>
</span><span id="DatasetIndexConfig-216"><a href="#DatasetIndexConfig-216"><span class="linenos">216</span></a><span class="sd">        Args:</span>
</span><span id="DatasetIndexConfig-217"><a href="#DatasetIndexConfig-217"><span class="linenos">217</span></a><span class="sd">            dataset_dir: the directory to save the indices to.</span>
</span><span id="DatasetIndexConfig-218"><a href="#DatasetIndexConfig-218"><span class="linenos">218</span></a><span class="sd">            indices: the list of indices to save.</span>
</span><span id="DatasetIndexConfig-219"><a href="#DatasetIndexConfig-219"><span class="linenos">219</span></a>
</span><span id="DatasetIndexConfig-220"><a href="#DatasetIndexConfig-220"><span class="linenos">220</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetIndexConfig-221"><a href="#DatasetIndexConfig-221"><span class="linenos">221</span></a><span class="sd">            true when the indices are saved or false when the configuration has no file name.</span>
</span><span id="DatasetIndexConfig-222"><a href="#DatasetIndexConfig-222"><span class="linenos">222</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetIndexConfig-223"><a href="#DatasetIndexConfig-223"><span class="linenos">223</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetIndexConfig-224"><a href="#DatasetIndexConfig-224"><span class="linenos">224</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DatasetIndexConfig-225"><a href="#DatasetIndexConfig-225"><span class="linenos">225</span></a>
</span><span id="DatasetIndexConfig-226"><a href="#DatasetIndexConfig-226"><span class="linenos">226</span></a>        <span class="n">save_array_to_hdf5</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="p">),</span> <span class="n">indices</span><span class="p">,</span> <span class="s1">&#39;indices&#39;</span><span class="p">)</span>
</span><span id="DatasetIndexConfig-227"><a href="#DatasetIndexConfig-227"><span class="linenos">227</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="DatasetIndexConfig-228"><a href="#DatasetIndexConfig-228"><span class="linenos">228</span></a>
</span><span id="DatasetIndexConfig-229"><a href="#DatasetIndexConfig-229"><span class="linenos">229</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="DatasetIndexConfig-230"><a href="#DatasetIndexConfig-230"><span class="linenos">230</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset index configuration to a yml compatible dictionary.</span>
</span><span id="DatasetIndexConfig-231"><a href="#DatasetIndexConfig-231"><span class="linenos">231</span></a>
</span><span id="DatasetIndexConfig-232"><a href="#DatasetIndexConfig-232"><span class="linenos">232</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetIndexConfig-233"><a href="#DatasetIndexConfig-233"><span class="linenos">233</span></a><span class="sd">            a dictionary containing the dataset index configuration.</span>
</span><span id="DatasetIndexConfig-234"><a href="#DatasetIndexConfig-234"><span class="linenos">234</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetIndexConfig-235"><a href="#DatasetIndexConfig-235"><span class="linenos">235</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="DatasetIndexConfig-236"><a href="#DatasetIndexConfig-236"><span class="linenos">236</span></a>            <span class="n">TABLE_KEY</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span>
</span><span id="DatasetIndexConfig-237"><a href="#DatasetIndexConfig-237"><span class="linenos">237</span></a>            <span class="n">TABLE_NUM_RECORDS</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_records</span>
</span><span id="DatasetIndexConfig-238"><a href="#DatasetIndexConfig-238"><span class="linenos">238</span></a>        <span class="p">}</span>
</span><span id="DatasetIndexConfig-239"><a href="#DatasetIndexConfig-239"><span class="linenos">239</span></a>
</span><span id="DatasetIndexConfig-240"><a href="#DatasetIndexConfig-240"><span class="linenos">240</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetIndexConfig-241"><a href="#DatasetIndexConfig-241"><span class="linenos">241</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_FILE</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span>
</span><span id="DatasetIndexConfig-242"><a href="#DatasetIndexConfig-242"><span class="linenos">242</span></a>
</span><span id="DatasetIndexConfig-243"><a href="#DatasetIndexConfig-243"><span class="linenos">243</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span></pre></div>


            <div class="docstring"><p>Dataset Matrix' Index Configuration.</p>

<p>file_name: (optional) file name that contains the user/item indirection array.
key: the key that is associated with the user/item.
num_records: the number of user/item records</p>
</div>


                            <div id="DatasetIndexConfig.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">DatasetIndexConfig</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">file_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>, </span><span class="param"><span class="n">key</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">num_records</span><span class="p">:</span> <span class="nb">int</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#DatasetIndexConfig.__init__"></a>
    
    

                            </div>
                            <div id="DatasetIndexConfig.load_indices" class="classattr">
                                        <input id="DatasetIndexConfig.load_indices-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">load_indices</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>:</span></span>

                <label class="view-source-button" for="DatasetIndexConfig.load_indices-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetIndexConfig.load_indices"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetIndexConfig.load_indices-196"><a href="#DatasetIndexConfig.load_indices-196"><span class="linenos">196</span></a>    <span class="k">def</span> <span class="nf">load_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
</span><span id="DatasetIndexConfig.load_indices-197"><a href="#DatasetIndexConfig.load_indices-197"><span class="linenos">197</span></a>        <span class="sd">&quot;&quot;&quot;Load the indices from the specified directory.</span>
</span><span id="DatasetIndexConfig.load_indices-198"><a href="#DatasetIndexConfig.load_indices-198"><span class="linenos">198</span></a>
</span><span id="DatasetIndexConfig.load_indices-199"><a href="#DatasetIndexConfig.load_indices-199"><span class="linenos">199</span></a><span class="sd">        This function raises a FileNotFoundError when the file is not</span>
</span><span id="DatasetIndexConfig.load_indices-200"><a href="#DatasetIndexConfig.load_indices-200"><span class="linenos">200</span></a><span class="sd">        found in the specified directory.</span>
</span><span id="DatasetIndexConfig.load_indices-201"><a href="#DatasetIndexConfig.load_indices-201"><span class="linenos">201</span></a>
</span><span id="DatasetIndexConfig.load_indices-202"><a href="#DatasetIndexConfig.load_indices-202"><span class="linenos">202</span></a><span class="sd">        Args:</span>
</span><span id="DatasetIndexConfig.load_indices-203"><a href="#DatasetIndexConfig.load_indices-203"><span class="linenos">203</span></a><span class="sd">            dataset_dir: the directory to load the indices from.</span>
</span><span id="DatasetIndexConfig.load_indices-204"><a href="#DatasetIndexConfig.load_indices-204"><span class="linenos">204</span></a>
</span><span id="DatasetIndexConfig.load_indices-205"><a href="#DatasetIndexConfig.load_indices-205"><span class="linenos">205</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetIndexConfig.load_indices-206"><a href="#DatasetIndexConfig.load_indices-206"><span class="linenos">206</span></a><span class="sd">            the resulting indices or None when not available.</span>
</span><span id="DatasetIndexConfig.load_indices-207"><a href="#DatasetIndexConfig.load_indices-207"><span class="linenos">207</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetIndexConfig.load_indices-208"><a href="#DatasetIndexConfig.load_indices-208"><span class="linenos">208</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetIndexConfig.load_indices-209"><a href="#DatasetIndexConfig.load_indices-209"><span class="linenos">209</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="DatasetIndexConfig.load_indices-210"><a href="#DatasetIndexConfig.load_indices-210"><span class="linenos">210</span></a>
</span><span id="DatasetIndexConfig.load_indices-211"><a href="#DatasetIndexConfig.load_indices-211"><span class="linenos">211</span></a>        <span class="k">return</span> <span class="n">load_array_from_hdf5</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="p">),</span> <span class="s1">&#39;indices&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Load the indices from the specified directory.</p>

<p>This function raises a FileNotFoundError when the file is not
found in the specified directory.</p>

<p>Args:
    dataset_dir: the directory to load the indices from.</p>

<p>Returns:
    the resulting indices or None when not available.</p>
</div>


                            </div>
                            <div id="DatasetIndexConfig.save_indices" class="classattr">
                                        <input id="DatasetIndexConfig.save_indices-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">save_indices</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">indices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="DatasetIndexConfig.save_indices-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetIndexConfig.save_indices"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetIndexConfig.save_indices-213"><a href="#DatasetIndexConfig.save_indices-213"><span class="linenos">213</span></a>    <span class="k">def</span> <span class="nf">save_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">indices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DatasetIndexConfig.save_indices-214"><a href="#DatasetIndexConfig.save_indices-214"><span class="linenos">214</span></a>        <span class="sd">&quot;&quot;&quot;Save the indices to the specified directory.</span>
</span><span id="DatasetIndexConfig.save_indices-215"><a href="#DatasetIndexConfig.save_indices-215"><span class="linenos">215</span></a>
</span><span id="DatasetIndexConfig.save_indices-216"><a href="#DatasetIndexConfig.save_indices-216"><span class="linenos">216</span></a><span class="sd">        Args:</span>
</span><span id="DatasetIndexConfig.save_indices-217"><a href="#DatasetIndexConfig.save_indices-217"><span class="linenos">217</span></a><span class="sd">            dataset_dir: the directory to save the indices to.</span>
</span><span id="DatasetIndexConfig.save_indices-218"><a href="#DatasetIndexConfig.save_indices-218"><span class="linenos">218</span></a><span class="sd">            indices: the list of indices to save.</span>
</span><span id="DatasetIndexConfig.save_indices-219"><a href="#DatasetIndexConfig.save_indices-219"><span class="linenos">219</span></a>
</span><span id="DatasetIndexConfig.save_indices-220"><a href="#DatasetIndexConfig.save_indices-220"><span class="linenos">220</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetIndexConfig.save_indices-221"><a href="#DatasetIndexConfig.save_indices-221"><span class="linenos">221</span></a><span class="sd">            true when the indices are saved or false when the configuration has no file name.</span>
</span><span id="DatasetIndexConfig.save_indices-222"><a href="#DatasetIndexConfig.save_indices-222"><span class="linenos">222</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetIndexConfig.save_indices-223"><a href="#DatasetIndexConfig.save_indices-223"><span class="linenos">223</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetIndexConfig.save_indices-224"><a href="#DatasetIndexConfig.save_indices-224"><span class="linenos">224</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DatasetIndexConfig.save_indices-225"><a href="#DatasetIndexConfig.save_indices-225"><span class="linenos">225</span></a>
</span><span id="DatasetIndexConfig.save_indices-226"><a href="#DatasetIndexConfig.save_indices-226"><span class="linenos">226</span></a>        <span class="n">save_array_to_hdf5</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span><span class="p">),</span> <span class="n">indices</span><span class="p">,</span> <span class="s1">&#39;indices&#39;</span><span class="p">)</span>
</span><span id="DatasetIndexConfig.save_indices-227"><a href="#DatasetIndexConfig.save_indices-227"><span class="linenos">227</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Save the indices to the specified directory.</p>

<p>Args:
    dataset_dir: the directory to save the indices to.
    indices: the list of indices to save.</p>

<p>Returns:
    true when the indices are saved or false when the configuration has no file name.</p>
</div>


                            </div>
                            <div id="DatasetIndexConfig.to_yml_format" class="classattr">
                                        <input id="DatasetIndexConfig.to_yml_format-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_yml_format</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="DatasetIndexConfig.to_yml_format-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetIndexConfig.to_yml_format"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetIndexConfig.to_yml_format-229"><a href="#DatasetIndexConfig.to_yml_format-229"><span class="linenos">229</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="DatasetIndexConfig.to_yml_format-230"><a href="#DatasetIndexConfig.to_yml_format-230"><span class="linenos">230</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset index configuration to a yml compatible dictionary.</span>
</span><span id="DatasetIndexConfig.to_yml_format-231"><a href="#DatasetIndexConfig.to_yml_format-231"><span class="linenos">231</span></a>
</span><span id="DatasetIndexConfig.to_yml_format-232"><a href="#DatasetIndexConfig.to_yml_format-232"><span class="linenos">232</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetIndexConfig.to_yml_format-233"><a href="#DatasetIndexConfig.to_yml_format-233"><span class="linenos">233</span></a><span class="sd">            a dictionary containing the dataset index configuration.</span>
</span><span id="DatasetIndexConfig.to_yml_format-234"><a href="#DatasetIndexConfig.to_yml_format-234"><span class="linenos">234</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetIndexConfig.to_yml_format-235"><a href="#DatasetIndexConfig.to_yml_format-235"><span class="linenos">235</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="DatasetIndexConfig.to_yml_format-236"><a href="#DatasetIndexConfig.to_yml_format-236"><span class="linenos">236</span></a>            <span class="n">TABLE_KEY</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span>
</span><span id="DatasetIndexConfig.to_yml_format-237"><a href="#DatasetIndexConfig.to_yml_format-237"><span class="linenos">237</span></a>            <span class="n">TABLE_NUM_RECORDS</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_records</span>
</span><span id="DatasetIndexConfig.to_yml_format-238"><a href="#DatasetIndexConfig.to_yml_format-238"><span class="linenos">238</span></a>        <span class="p">}</span>
</span><span id="DatasetIndexConfig.to_yml_format-239"><a href="#DatasetIndexConfig.to_yml_format-239"><span class="linenos">239</span></a>
</span><span id="DatasetIndexConfig.to_yml_format-240"><a href="#DatasetIndexConfig.to_yml_format-240"><span class="linenos">240</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DatasetIndexConfig.to_yml_format-241"><a href="#DatasetIndexConfig.to_yml_format-241"><span class="linenos">241</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">TABLE_FILE</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_name</span>
</span><span id="DatasetIndexConfig.to_yml_format-242"><a href="#DatasetIndexConfig.to_yml_format-242"><span class="linenos">242</span></a>
</span><span id="DatasetIndexConfig.to_yml_format-243"><a href="#DatasetIndexConfig.to_yml_format-243"><span class="linenos">243</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span></pre></div>


            <div class="docstring"><p>Format dataset index configuration to a yml compatible dictionary.</p>

<p>Returns:
    a dictionary containing the dataset index configuration.</p>
</div>


                            </div>
                </section>
                <section id="DatasetMatrixConfig">
                            <input id="DatasetMatrixConfig-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass</div>

    <span class="def">class</span>
    <span class="name">DatasetMatrixConfig</span><wbr>(<span class="base"><a href="../../core/config/config_yml.html#YmlConfig">src.fairreckitlib.core.config.config_yml.YmlConfig</a></span>):

                <label class="view-source-button" for="DatasetMatrixConfig-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetMatrixConfig"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetMatrixConfig-246"><a href="#DatasetMatrixConfig-246"><span class="linenos">246</span></a><span class="nd">@dataclass</span>
</span><span id="DatasetMatrixConfig-247"><a href="#DatasetMatrixConfig-247"><span class="linenos">247</span></a><span class="k">class</span> <span class="nc">DatasetMatrixConfig</span><span class="p">(</span><span class="n">YmlConfig</span><span class="p">):</span>
</span><span id="DatasetMatrixConfig-248"><a href="#DatasetMatrixConfig-248"><span class="linenos">248</span></a>    <span class="sd">&quot;&quot;&quot;Dataset Matrix Configuration.</span>
</span><span id="DatasetMatrixConfig-249"><a href="#DatasetMatrixConfig-249"><span class="linenos">249</span></a>
</span><span id="DatasetMatrixConfig-250"><a href="#DatasetMatrixConfig-250"><span class="linenos">250</span></a><span class="sd">    table: the table configuration of the matrix.</span>
</span><span id="DatasetMatrixConfig-251"><a href="#DatasetMatrixConfig-251"><span class="linenos">251</span></a><span class="sd">    rating_min: the minimum rating in the matrix.</span>
</span><span id="DatasetMatrixConfig-252"><a href="#DatasetMatrixConfig-252"><span class="linenos">252</span></a><span class="sd">    rating_max: the maximum rating in the matrix.</span>
</span><span id="DatasetMatrixConfig-253"><a href="#DatasetMatrixConfig-253"><span class="linenos">253</span></a><span class="sd">    rating_type: the type of the rating in the matrix, either &#39;explicit&#39; or &#39;implicit&#39;.</span>
</span><span id="DatasetMatrixConfig-254"><a href="#DatasetMatrixConfig-254"><span class="linenos">254</span></a><span class="sd">    user: the dataset index configuration for the users in the matrix.</span>
</span><span id="DatasetMatrixConfig-255"><a href="#DatasetMatrixConfig-255"><span class="linenos">255</span></a><span class="sd">    item: the dataset index configuration for the items in the matrix.</span>
</span><span id="DatasetMatrixConfig-256"><a href="#DatasetMatrixConfig-256"><span class="linenos">256</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DatasetMatrixConfig-257"><a href="#DatasetMatrixConfig-257"><span class="linenos">257</span></a>
</span><span id="DatasetMatrixConfig-258"><a href="#DatasetMatrixConfig-258"><span class="linenos">258</span></a>    <span class="n">table</span><span class="p">:</span> <span class="n">DatasetTableConfig</span>
</span><span id="DatasetMatrixConfig-259"><a href="#DatasetMatrixConfig-259"><span class="linenos">259</span></a>    <span class="n">rating_min</span><span class="p">:</span> <span class="nb">float</span>
</span><span id="DatasetMatrixConfig-260"><a href="#DatasetMatrixConfig-260"><span class="linenos">260</span></a>    <span class="n">rating_max</span><span class="p">:</span> <span class="nb">float</span>
</span><span id="DatasetMatrixConfig-261"><a href="#DatasetMatrixConfig-261"><span class="linenos">261</span></a>    <span class="n">rating_type</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="DatasetMatrixConfig-262"><a href="#DatasetMatrixConfig-262"><span class="linenos">262</span></a>    <span class="n">user</span><span class="p">:</span> <span class="n">DatasetIndexConfig</span>
</span><span id="DatasetMatrixConfig-263"><a href="#DatasetMatrixConfig-263"><span class="linenos">263</span></a>    <span class="n">item</span><span class="p">:</span> <span class="n">DatasetIndexConfig</span>
</span><span id="DatasetMatrixConfig-264"><a href="#DatasetMatrixConfig-264"><span class="linenos">264</span></a>
</span><span id="DatasetMatrixConfig-265"><a href="#DatasetMatrixConfig-265"><span class="linenos">265</span></a>    <span class="k">def</span> <span class="nf">load_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="DatasetMatrixConfig-266"><a href="#DatasetMatrixConfig-266"><span class="linenos">266</span></a>        <span class="sd">&quot;&quot;&quot;Load the matrix from the specified directory.</span>
</span><span id="DatasetMatrixConfig-267"><a href="#DatasetMatrixConfig-267"><span class="linenos">267</span></a>
</span><span id="DatasetMatrixConfig-268"><a href="#DatasetMatrixConfig-268"><span class="linenos">268</span></a><span class="sd">        Args:</span>
</span><span id="DatasetMatrixConfig-269"><a href="#DatasetMatrixConfig-269"><span class="linenos">269</span></a><span class="sd">            dataset_dir: directory path to where the dataset matrix is stored.</span>
</span><span id="DatasetMatrixConfig-270"><a href="#DatasetMatrixConfig-270"><span class="linenos">270</span></a>
</span><span id="DatasetMatrixConfig-271"><a href="#DatasetMatrixConfig-271"><span class="linenos">271</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetMatrixConfig-272"><a href="#DatasetMatrixConfig-272"><span class="linenos">272</span></a><span class="sd">            the resulting matrix (iterator).</span>
</span><span id="DatasetMatrixConfig-273"><a href="#DatasetMatrixConfig-273"><span class="linenos">273</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetMatrixConfig-274"><a href="#DatasetMatrixConfig-274"><span class="linenos">274</span></a>        <span class="n">matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
</span><span id="DatasetMatrixConfig-275"><a href="#DatasetMatrixConfig-275"><span class="linenos">275</span></a>
</span><span id="DatasetMatrixConfig-276"><a href="#DatasetMatrixConfig-276"><span class="linenos">276</span></a>        <span class="n">columns</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="DatasetMatrixConfig-277"><a href="#DatasetMatrixConfig-277"><span class="linenos">277</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span>
</span><span id="DatasetMatrixConfig-278"><a href="#DatasetMatrixConfig-278"><span class="linenos">278</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="s1">&#39;item&#39;</span><span class="p">,</span>
</span><span id="DatasetMatrixConfig-279"><a href="#DatasetMatrixConfig-279"><span class="linenos">279</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="s1">&#39;rating&#39;</span>
</span><span id="DatasetMatrixConfig-280"><a href="#DatasetMatrixConfig-280"><span class="linenos">280</span></a>        <span class="p">}</span>
</span><span id="DatasetMatrixConfig-281"><a href="#DatasetMatrixConfig-281"><span class="linenos">281</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="DatasetMatrixConfig-282"><a href="#DatasetMatrixConfig-282"><span class="linenos">282</span></a>            <span class="n">columns</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;timestamp&#39;</span>
</span><span id="DatasetMatrixConfig-283"><a href="#DatasetMatrixConfig-283"><span class="linenos">283</span></a>
</span><span id="DatasetMatrixConfig-284"><a href="#DatasetMatrixConfig-284"><span class="linenos">284</span></a>        <span class="k">return</span> <span class="n">matrix</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
</span><span id="DatasetMatrixConfig-285"><a href="#DatasetMatrixConfig-285"><span class="linenos">285</span></a>
</span><span id="DatasetMatrixConfig-286"><a href="#DatasetMatrixConfig-286"><span class="linenos">286</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="DatasetMatrixConfig-287"><a href="#DatasetMatrixConfig-287"><span class="linenos">287</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset matrix configuration to a yml compatible dictionary.</span>
</span><span id="DatasetMatrixConfig-288"><a href="#DatasetMatrixConfig-288"><span class="linenos">288</span></a>
</span><span id="DatasetMatrixConfig-289"><a href="#DatasetMatrixConfig-289"><span class="linenos">289</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetMatrixConfig-290"><a href="#DatasetMatrixConfig-290"><span class="linenos">290</span></a><span class="sd">            a dictionary containing the dataset matrix configuration.</span>
</span><span id="DatasetMatrixConfig-291"><a href="#DatasetMatrixConfig-291"><span class="linenos">291</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetMatrixConfig-292"><a href="#DatasetMatrixConfig-292"><span class="linenos">292</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="DatasetMatrixConfig-293"><a href="#DatasetMatrixConfig-293"><span class="linenos">293</span></a>            <span class="n">KEY_IDX_ITEM</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="DatasetMatrixConfig-294"><a href="#DatasetMatrixConfig-294"><span class="linenos">294</span></a>            <span class="n">KEY_IDX_USER</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="DatasetMatrixConfig-295"><a href="#DatasetMatrixConfig-295"><span class="linenos">295</span></a>            <span class="n">KEY_MATRIX</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="DatasetMatrixConfig-296"><a href="#DatasetMatrixConfig-296"><span class="linenos">296</span></a>            <span class="n">KEY_RATING_MIN</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rating_min</span><span class="p">,</span>
</span><span id="DatasetMatrixConfig-297"><a href="#DatasetMatrixConfig-297"><span class="linenos">297</span></a>            <span class="n">KEY_RATING_MAX</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rating_max</span><span class="p">,</span>
</span><span id="DatasetMatrixConfig-298"><a href="#DatasetMatrixConfig-298"><span class="linenos">298</span></a>            <span class="n">KEY_RATING_TYPE</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rating_type</span><span class="p">,</span>
</span><span id="DatasetMatrixConfig-299"><a href="#DatasetMatrixConfig-299"><span class="linenos">299</span></a>        <span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>Dataset Matrix Configuration.</p>

<p>table: the table configuration of the matrix.
rating_min: the minimum rating in the matrix.
rating_max: the maximum rating in the matrix.
rating_type: the type of the rating in the matrix, either 'explicit' or 'implicit'.
user: the dataset index configuration for the users in the matrix.
item: the dataset index configuration for the items in the matrix.</p>
</div>


                            <div id="DatasetMatrixConfig.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">DatasetMatrixConfig</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">table</span><span class="p">:</span> <span class="n">src</span><span class="o">.</span><span class="n">fairreckitlib</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">dataset_config</span><span class="o">.</span><span class="n">DatasetTableConfig</span>,</span><span class="param">	<span class="n">rating_min</span><span class="p">:</span> <span class="nb">float</span>,</span><span class="param">	<span class="n">rating_max</span><span class="p">:</span> <span class="nb">float</span>,</span><span class="param">	<span class="n">rating_type</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">user</span><span class="p">:</span> <span class="n">src</span><span class="o">.</span><span class="n">fairreckitlib</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">dataset_config</span><span class="o">.</span><span class="n">DatasetIndexConfig</span>,</span><span class="param">	<span class="n">item</span><span class="p">:</span> <span class="n">src</span><span class="o">.</span><span class="n">fairreckitlib</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">dataset_config</span><span class="o">.</span><span class="n">DatasetIndexConfig</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#DatasetMatrixConfig.__init__"></a>
    
    

                            </div>
                            <div id="DatasetMatrixConfig.load_matrix" class="classattr">
                                        <input id="DatasetMatrixConfig.load_matrix-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">load_matrix</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

                <label class="view-source-button" for="DatasetMatrixConfig.load_matrix-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetMatrixConfig.load_matrix"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetMatrixConfig.load_matrix-265"><a href="#DatasetMatrixConfig.load_matrix-265"><span class="linenos">265</span></a>    <span class="k">def</span> <span class="nf">load_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="DatasetMatrixConfig.load_matrix-266"><a href="#DatasetMatrixConfig.load_matrix-266"><span class="linenos">266</span></a>        <span class="sd">&quot;&quot;&quot;Load the matrix from the specified directory.</span>
</span><span id="DatasetMatrixConfig.load_matrix-267"><a href="#DatasetMatrixConfig.load_matrix-267"><span class="linenos">267</span></a>
</span><span id="DatasetMatrixConfig.load_matrix-268"><a href="#DatasetMatrixConfig.load_matrix-268"><span class="linenos">268</span></a><span class="sd">        Args:</span>
</span><span id="DatasetMatrixConfig.load_matrix-269"><a href="#DatasetMatrixConfig.load_matrix-269"><span class="linenos">269</span></a><span class="sd">            dataset_dir: directory path to where the dataset matrix is stored.</span>
</span><span id="DatasetMatrixConfig.load_matrix-270"><a href="#DatasetMatrixConfig.load_matrix-270"><span class="linenos">270</span></a>
</span><span id="DatasetMatrixConfig.load_matrix-271"><a href="#DatasetMatrixConfig.load_matrix-271"><span class="linenos">271</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetMatrixConfig.load_matrix-272"><a href="#DatasetMatrixConfig.load_matrix-272"><span class="linenos">272</span></a><span class="sd">            the resulting matrix (iterator).</span>
</span><span id="DatasetMatrixConfig.load_matrix-273"><a href="#DatasetMatrixConfig.load_matrix-273"><span class="linenos">273</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetMatrixConfig.load_matrix-274"><a href="#DatasetMatrixConfig.load_matrix-274"><span class="linenos">274</span></a>        <span class="n">matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="n">dataset_dir</span><span class="p">)</span>
</span><span id="DatasetMatrixConfig.load_matrix-275"><a href="#DatasetMatrixConfig.load_matrix-275"><span class="linenos">275</span></a>
</span><span id="DatasetMatrixConfig.load_matrix-276"><a href="#DatasetMatrixConfig.load_matrix-276"><span class="linenos">276</span></a>        <span class="n">columns</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="DatasetMatrixConfig.load_matrix-277"><a href="#DatasetMatrixConfig.load_matrix-277"><span class="linenos">277</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span>
</span><span id="DatasetMatrixConfig.load_matrix-278"><a href="#DatasetMatrixConfig.load_matrix-278"><span class="linenos">278</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="s1">&#39;item&#39;</span><span class="p">,</span>
</span><span id="DatasetMatrixConfig.load_matrix-279"><a href="#DatasetMatrixConfig.load_matrix-279"><span class="linenos">279</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="s1">&#39;rating&#39;</span>
</span><span id="DatasetMatrixConfig.load_matrix-280"><a href="#DatasetMatrixConfig.load_matrix-280"><span class="linenos">280</span></a>        <span class="p">}</span>
</span><span id="DatasetMatrixConfig.load_matrix-281"><a href="#DatasetMatrixConfig.load_matrix-281"><span class="linenos">281</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="DatasetMatrixConfig.load_matrix-282"><a href="#DatasetMatrixConfig.load_matrix-282"><span class="linenos">282</span></a>            <span class="n">columns</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;timestamp&#39;</span>
</span><span id="DatasetMatrixConfig.load_matrix-283"><a href="#DatasetMatrixConfig.load_matrix-283"><span class="linenos">283</span></a>
</span><span id="DatasetMatrixConfig.load_matrix-284"><a href="#DatasetMatrixConfig.load_matrix-284"><span class="linenos">284</span></a>        <span class="k">return</span> <span class="n">matrix</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Load the matrix from the specified directory.</p>

<p>Args:
    dataset_dir: directory path to where the dataset matrix is stored.</p>

<p>Returns:
    the resulting matrix (iterator).</p>
</div>


                            </div>
                            <div id="DatasetMatrixConfig.to_yml_format" class="classattr">
                                        <input id="DatasetMatrixConfig.to_yml_format-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_yml_format</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="DatasetMatrixConfig.to_yml_format-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetMatrixConfig.to_yml_format"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetMatrixConfig.to_yml_format-286"><a href="#DatasetMatrixConfig.to_yml_format-286"><span class="linenos">286</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="DatasetMatrixConfig.to_yml_format-287"><a href="#DatasetMatrixConfig.to_yml_format-287"><span class="linenos">287</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset matrix configuration to a yml compatible dictionary.</span>
</span><span id="DatasetMatrixConfig.to_yml_format-288"><a href="#DatasetMatrixConfig.to_yml_format-288"><span class="linenos">288</span></a>
</span><span id="DatasetMatrixConfig.to_yml_format-289"><a href="#DatasetMatrixConfig.to_yml_format-289"><span class="linenos">289</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetMatrixConfig.to_yml_format-290"><a href="#DatasetMatrixConfig.to_yml_format-290"><span class="linenos">290</span></a><span class="sd">            a dictionary containing the dataset matrix configuration.</span>
</span><span id="DatasetMatrixConfig.to_yml_format-291"><a href="#DatasetMatrixConfig.to_yml_format-291"><span class="linenos">291</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetMatrixConfig.to_yml_format-292"><a href="#DatasetMatrixConfig.to_yml_format-292"><span class="linenos">292</span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="DatasetMatrixConfig.to_yml_format-293"><a href="#DatasetMatrixConfig.to_yml_format-293"><span class="linenos">293</span></a>            <span class="n">KEY_IDX_ITEM</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="DatasetMatrixConfig.to_yml_format-294"><a href="#DatasetMatrixConfig.to_yml_format-294"><span class="linenos">294</span></a>            <span class="n">KEY_IDX_USER</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="DatasetMatrixConfig.to_yml_format-295"><a href="#DatasetMatrixConfig.to_yml_format-295"><span class="linenos">295</span></a>            <span class="n">KEY_MATRIX</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">to_yml_format</span><span class="p">(),</span>
</span><span id="DatasetMatrixConfig.to_yml_format-296"><a href="#DatasetMatrixConfig.to_yml_format-296"><span class="linenos">296</span></a>            <span class="n">KEY_RATING_MIN</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rating_min</span><span class="p">,</span>
</span><span id="DatasetMatrixConfig.to_yml_format-297"><a href="#DatasetMatrixConfig.to_yml_format-297"><span class="linenos">297</span></a>            <span class="n">KEY_RATING_MAX</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rating_max</span><span class="p">,</span>
</span><span id="DatasetMatrixConfig.to_yml_format-298"><a href="#DatasetMatrixConfig.to_yml_format-298"><span class="linenos">298</span></a>            <span class="n">KEY_RATING_TYPE</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rating_type</span><span class="p">,</span>
</span><span id="DatasetMatrixConfig.to_yml_format-299"><a href="#DatasetMatrixConfig.to_yml_format-299"><span class="linenos">299</span></a>        <span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>Format dataset matrix configuration to a yml compatible dictionary.</p>

<p>Returns:
    a dictionary containing the dataset matrix configuration.</p>
</div>


                            </div>
                </section>
                <section id="DatasetConfig">
                            <input id="DatasetConfig-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass</div>

    <span class="def">class</span>
    <span class="name">DatasetConfig</span><wbr>(<span class="base"><a href="../../core/config/config_yml.html#YmlConfig">src.fairreckitlib.core.config.config_yml.YmlConfig</a></span>):

                <label class="view-source-button" for="DatasetConfig-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetConfig"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetConfig-302"><a href="#DatasetConfig-302"><span class="linenos">302</span></a><span class="nd">@dataclass</span>
</span><span id="DatasetConfig-303"><a href="#DatasetConfig-303"><span class="linenos">303</span></a><span class="k">class</span> <span class="nc">DatasetConfig</span><span class="p">(</span><span class="n">YmlConfig</span><span class="p">):</span>
</span><span id="DatasetConfig-304"><a href="#DatasetConfig-304"><span class="linenos">304</span></a>    <span class="sd">&quot;&quot;&quot;Dataset Configuration.</span>
</span><span id="DatasetConfig-305"><a href="#DatasetConfig-305"><span class="linenos">305</span></a>
</span><span id="DatasetConfig-306"><a href="#DatasetConfig-306"><span class="linenos">306</span></a><span class="sd">    dataset_name: the name of the dataset.</span>
</span><span id="DatasetConfig-307"><a href="#DatasetConfig-307"><span class="linenos">307</span></a><span class="sd">    events: dictionary containing the available user event tables.</span>
</span><span id="DatasetConfig-308"><a href="#DatasetConfig-308"><span class="linenos">308</span></a><span class="sd">    matrices: dictionary containing the available user-item matrices.</span>
</span><span id="DatasetConfig-309"><a href="#DatasetConfig-309"><span class="linenos">309</span></a><span class="sd">    tables: dictionary containing the (additionally) available tables.</span>
</span><span id="DatasetConfig-310"><a href="#DatasetConfig-310"><span class="linenos">310</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DatasetConfig-311"><a href="#DatasetConfig-311"><span class="linenos">311</span></a>
</span><span id="DatasetConfig-312"><a href="#DatasetConfig-312"><span class="linenos">312</span></a>    <span class="n">dataset_name</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="DatasetConfig-313"><a href="#DatasetConfig-313"><span class="linenos">313</span></a>    <span class="n">events</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DatasetTableConfig</span><span class="p">]</span>
</span><span id="DatasetConfig-314"><a href="#DatasetConfig-314"><span class="linenos">314</span></a>    <span class="n">matrices</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DatasetMatrixConfig</span><span class="p">]</span>
</span><span id="DatasetConfig-315"><a href="#DatasetConfig-315"><span class="linenos">315</span></a>    <span class="n">tables</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DatasetTableConfig</span><span class="p">]</span>
</span><span id="DatasetConfig-316"><a href="#DatasetConfig-316"><span class="linenos">316</span></a>
</span><span id="DatasetConfig-317"><a href="#DatasetConfig-317"><span class="linenos">317</span></a>    <span class="k">def</span> <span class="nf">get_available_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
</span><span id="DatasetConfig-318"><a href="#DatasetConfig-318"><span class="linenos">318</span></a>        <span class="sd">&quot;&quot;&quot;Get the available columns of the specified matrix.</span>
</span><span id="DatasetConfig-319"><a href="#DatasetConfig-319"><span class="linenos">319</span></a>
</span><span id="DatasetConfig-320"><a href="#DatasetConfig-320"><span class="linenos">320</span></a><span class="sd">        Only the table names and columns that have a one-to-one relation will be returned.</span>
</span><span id="DatasetConfig-321"><a href="#DatasetConfig-321"><span class="linenos">321</span></a><span class="sd">        This function does not raise errors and will return an empty dictionary when</span>
</span><span id="DatasetConfig-322"><a href="#DatasetConfig-322"><span class="linenos">322</span></a><span class="sd">        the specified matrix is not present in the dataset.</span>
</span><span id="DatasetConfig-323"><a href="#DatasetConfig-323"><span class="linenos">323</span></a>
</span><span id="DatasetConfig-324"><a href="#DatasetConfig-324"><span class="linenos">324</span></a><span class="sd">        Args:</span>
</span><span id="DatasetConfig-325"><a href="#DatasetConfig-325"><span class="linenos">325</span></a><span class="sd">            matrix_name: the name of the matrix to get the available columns of.</span>
</span><span id="DatasetConfig-326"><a href="#DatasetConfig-326"><span class="linenos">326</span></a>
</span><span id="DatasetConfig-327"><a href="#DatasetConfig-327"><span class="linenos">327</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetConfig-328"><a href="#DatasetConfig-328"><span class="linenos">328</span></a><span class="sd">            a dictionary containing the table names as key and the available columns as value.</span>
</span><span id="DatasetConfig-329"><a href="#DatasetConfig-329"><span class="linenos">329</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetConfig-330"><a href="#DatasetConfig-330"><span class="linenos">330</span></a>        <span class="k">if</span> <span class="n">matrix_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">:</span>
</span><span id="DatasetConfig-331"><a href="#DatasetConfig-331"><span class="linenos">331</span></a>            <span class="k">return</span> <span class="p">{}</span>
</span><span id="DatasetConfig-332"><a href="#DatasetConfig-332"><span class="linenos">332</span></a>
</span><span id="DatasetConfig-333"><a href="#DatasetConfig-333"><span class="linenos">333</span></a>        <span class="n">matrix_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">[</span><span class="n">matrix_name</span><span class="p">]</span>
</span><span id="DatasetConfig-334"><a href="#DatasetConfig-334"><span class="linenos">334</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="n">KEY_MATRIX</span><span class="p">:</span> <span class="n">matrix_config</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">}</span>
</span><span id="DatasetConfig-335"><a href="#DatasetConfig-335"><span class="linenos">335</span></a>
</span><span id="DatasetConfig-336"><a href="#DatasetConfig-336"><span class="linenos">336</span></a>        <span class="n">user_key</span> <span class="o">=</span> <span class="p">[</span><span class="n">matrix_config</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">key</span><span class="p">]</span>
</span><span id="DatasetConfig-337"><a href="#DatasetConfig-337"><span class="linenos">337</span></a>        <span class="n">item_key</span> <span class="o">=</span> <span class="p">[</span><span class="n">matrix_config</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">key</span><span class="p">]</span>
</span><span id="DatasetConfig-338"><a href="#DatasetConfig-338"><span class="linenos">338</span></a>        <span class="n">user_item_key</span> <span class="o">=</span> <span class="p">[</span><span class="n">user_key</span><span class="p">,</span> <span class="n">item_key</span><span class="p">]</span>
</span><span id="DatasetConfig-339"><a href="#DatasetConfig-339"><span class="linenos">339</span></a>
</span><span id="DatasetConfig-340"><a href="#DatasetConfig-340"><span class="linenos">340</span></a>        <span class="k">for</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">table_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tables</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="DatasetConfig-341"><a href="#DatasetConfig-341"><span class="linenos">341</span></a>            <span class="n">key</span> <span class="o">=</span> <span class="n">table_config</span><span class="o">.</span><span class="n">primary_key</span>
</span><span id="DatasetConfig-342"><a href="#DatasetConfig-342"><span class="linenos">342</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="n">user_key</span><span class="p">,</span> <span class="n">item_key</span><span class="p">,</span> <span class="n">user_item_key</span><span class="p">):</span>
</span><span id="DatasetConfig-343"><a href="#DatasetConfig-343"><span class="linenos">343</span></a>                <span class="n">result</span><span class="p">[</span><span class="n">table_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">table_config</span><span class="o">.</span><span class="n">columns</span>
</span><span id="DatasetConfig-344"><a href="#DatasetConfig-344"><span class="linenos">344</span></a>
</span><span id="DatasetConfig-345"><a href="#DatasetConfig-345"><span class="linenos">345</span></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="DatasetConfig-346"><a href="#DatasetConfig-346"><span class="linenos">346</span></a>
</span><span id="DatasetConfig-347"><a href="#DatasetConfig-347"><span class="linenos">347</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="DatasetConfig-348"><a href="#DatasetConfig-348"><span class="linenos">348</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset configuration to a yml compatible dictionary.</span>
</span><span id="DatasetConfig-349"><a href="#DatasetConfig-349"><span class="linenos">349</span></a>
</span><span id="DatasetConfig-350"><a href="#DatasetConfig-350"><span class="linenos">350</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetConfig-351"><a href="#DatasetConfig-351"><span class="linenos">351</span></a><span class="sd">            a dictionary containing the dataset configuration.</span>
</span><span id="DatasetConfig-352"><a href="#DatasetConfig-352"><span class="linenos">352</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetConfig-353"><a href="#DatasetConfig-353"><span class="linenos">353</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span><span class="n">KEY_DATASET</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset_name</span><span class="p">}</span>
</span><span id="DatasetConfig-354"><a href="#DatasetConfig-354"><span class="linenos">354</span></a>
</span><span id="DatasetConfig-355"><a href="#DatasetConfig-355"><span class="linenos">355</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DatasetConfig-356"><a href="#DatasetConfig-356"><span class="linenos">356</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">KEY_EVENTS</span><span class="p">]</span> <span class="o">=</span> <span class="n">format_yml_config_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">)</span>
</span><span id="DatasetConfig-357"><a href="#DatasetConfig-357"><span class="linenos">357</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DatasetConfig-358"><a href="#DatasetConfig-358"><span class="linenos">358</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">KEY_MATRICES</span><span class="p">]</span> <span class="o">=</span> <span class="n">format_yml_config_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">)</span>
</span><span id="DatasetConfig-359"><a href="#DatasetConfig-359"><span class="linenos">359</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tables</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DatasetConfig-360"><a href="#DatasetConfig-360"><span class="linenos">360</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">KEY_TABLES</span><span class="p">]</span> <span class="o">=</span> <span class="n">format_yml_config_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tables</span><span class="p">)</span>
</span><span id="DatasetConfig-361"><a href="#DatasetConfig-361"><span class="linenos">361</span></a>
</span><span id="DatasetConfig-362"><a href="#DatasetConfig-362"><span class="linenos">362</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span></pre></div>


            <div class="docstring"><p>Dataset Configuration.</p>

<p>dataset_name: the name of the dataset.
events: dictionary containing the available user event tables.
matrices: dictionary containing the available user-item matrices.
tables: dictionary containing the (additionally) available tables.</p>
</div>


                            <div id="DatasetConfig.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">DatasetConfig</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">dataset_name</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">events</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">src</span><span class="o">.</span><span class="n">fairreckitlib</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">dataset_config</span><span class="o">.</span><span class="n">DatasetTableConfig</span><span class="p">]</span>,</span><span class="param">	<span class="n">matrices</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">src</span><span class="o">.</span><span class="n">fairreckitlib</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">dataset_config</span><span class="o">.</span><span class="n">DatasetMatrixConfig</span><span class="p">]</span>,</span><span class="param">	<span class="n">tables</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">src</span><span class="o">.</span><span class="n">fairreckitlib</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">dataset_config</span><span class="o">.</span><span class="n">DatasetTableConfig</span><span class="p">]</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#DatasetConfig.__init__"></a>
    
    

                            </div>
                            <div id="DatasetConfig.get_available_columns" class="classattr">
                                        <input id="DatasetConfig.get_available_columns-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_available_columns</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">matrix_name</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>:</span></span>

                <label class="view-source-button" for="DatasetConfig.get_available_columns-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetConfig.get_available_columns"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetConfig.get_available_columns-317"><a href="#DatasetConfig.get_available_columns-317"><span class="linenos">317</span></a>    <span class="k">def</span> <span class="nf">get_available_columns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
</span><span id="DatasetConfig.get_available_columns-318"><a href="#DatasetConfig.get_available_columns-318"><span class="linenos">318</span></a>        <span class="sd">&quot;&quot;&quot;Get the available columns of the specified matrix.</span>
</span><span id="DatasetConfig.get_available_columns-319"><a href="#DatasetConfig.get_available_columns-319"><span class="linenos">319</span></a>
</span><span id="DatasetConfig.get_available_columns-320"><a href="#DatasetConfig.get_available_columns-320"><span class="linenos">320</span></a><span class="sd">        Only the table names and columns that have a one-to-one relation will be returned.</span>
</span><span id="DatasetConfig.get_available_columns-321"><a href="#DatasetConfig.get_available_columns-321"><span class="linenos">321</span></a><span class="sd">        This function does not raise errors and will return an empty dictionary when</span>
</span><span id="DatasetConfig.get_available_columns-322"><a href="#DatasetConfig.get_available_columns-322"><span class="linenos">322</span></a><span class="sd">        the specified matrix is not present in the dataset.</span>
</span><span id="DatasetConfig.get_available_columns-323"><a href="#DatasetConfig.get_available_columns-323"><span class="linenos">323</span></a>
</span><span id="DatasetConfig.get_available_columns-324"><a href="#DatasetConfig.get_available_columns-324"><span class="linenos">324</span></a><span class="sd">        Args:</span>
</span><span id="DatasetConfig.get_available_columns-325"><a href="#DatasetConfig.get_available_columns-325"><span class="linenos">325</span></a><span class="sd">            matrix_name: the name of the matrix to get the available columns of.</span>
</span><span id="DatasetConfig.get_available_columns-326"><a href="#DatasetConfig.get_available_columns-326"><span class="linenos">326</span></a>
</span><span id="DatasetConfig.get_available_columns-327"><a href="#DatasetConfig.get_available_columns-327"><span class="linenos">327</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetConfig.get_available_columns-328"><a href="#DatasetConfig.get_available_columns-328"><span class="linenos">328</span></a><span class="sd">            a dictionary containing the table names as key and the available columns as value.</span>
</span><span id="DatasetConfig.get_available_columns-329"><a href="#DatasetConfig.get_available_columns-329"><span class="linenos">329</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetConfig.get_available_columns-330"><a href="#DatasetConfig.get_available_columns-330"><span class="linenos">330</span></a>        <span class="k">if</span> <span class="n">matrix_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">:</span>
</span><span id="DatasetConfig.get_available_columns-331"><a href="#DatasetConfig.get_available_columns-331"><span class="linenos">331</span></a>            <span class="k">return</span> <span class="p">{}</span>
</span><span id="DatasetConfig.get_available_columns-332"><a href="#DatasetConfig.get_available_columns-332"><span class="linenos">332</span></a>
</span><span id="DatasetConfig.get_available_columns-333"><a href="#DatasetConfig.get_available_columns-333"><span class="linenos">333</span></a>        <span class="n">matrix_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">[</span><span class="n">matrix_name</span><span class="p">]</span>
</span><span id="DatasetConfig.get_available_columns-334"><a href="#DatasetConfig.get_available_columns-334"><span class="linenos">334</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="n">KEY_MATRIX</span><span class="p">:</span> <span class="n">matrix_config</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">}</span>
</span><span id="DatasetConfig.get_available_columns-335"><a href="#DatasetConfig.get_available_columns-335"><span class="linenos">335</span></a>
</span><span id="DatasetConfig.get_available_columns-336"><a href="#DatasetConfig.get_available_columns-336"><span class="linenos">336</span></a>        <span class="n">user_key</span> <span class="o">=</span> <span class="p">[</span><span class="n">matrix_config</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">key</span><span class="p">]</span>
</span><span id="DatasetConfig.get_available_columns-337"><a href="#DatasetConfig.get_available_columns-337"><span class="linenos">337</span></a>        <span class="n">item_key</span> <span class="o">=</span> <span class="p">[</span><span class="n">matrix_config</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">key</span><span class="p">]</span>
</span><span id="DatasetConfig.get_available_columns-338"><a href="#DatasetConfig.get_available_columns-338"><span class="linenos">338</span></a>        <span class="n">user_item_key</span> <span class="o">=</span> <span class="p">[</span><span class="n">user_key</span><span class="p">,</span> <span class="n">item_key</span><span class="p">]</span>
</span><span id="DatasetConfig.get_available_columns-339"><a href="#DatasetConfig.get_available_columns-339"><span class="linenos">339</span></a>
</span><span id="DatasetConfig.get_available_columns-340"><a href="#DatasetConfig.get_available_columns-340"><span class="linenos">340</span></a>        <span class="k">for</span> <span class="n">table_name</span><span class="p">,</span> <span class="n">table_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tables</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="DatasetConfig.get_available_columns-341"><a href="#DatasetConfig.get_available_columns-341"><span class="linenos">341</span></a>            <span class="n">key</span> <span class="o">=</span> <span class="n">table_config</span><span class="o">.</span><span class="n">primary_key</span>
</span><span id="DatasetConfig.get_available_columns-342"><a href="#DatasetConfig.get_available_columns-342"><span class="linenos">342</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="n">user_key</span><span class="p">,</span> <span class="n">item_key</span><span class="p">,</span> <span class="n">user_item_key</span><span class="p">):</span>
</span><span id="DatasetConfig.get_available_columns-343"><a href="#DatasetConfig.get_available_columns-343"><span class="linenos">343</span></a>                <span class="n">result</span><span class="p">[</span><span class="n">table_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">table_config</span><span class="o">.</span><span class="n">columns</span>
</span><span id="DatasetConfig.get_available_columns-344"><a href="#DatasetConfig.get_available_columns-344"><span class="linenos">344</span></a>
</span><span id="DatasetConfig.get_available_columns-345"><a href="#DatasetConfig.get_available_columns-345"><span class="linenos">345</span></a>        <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


            <div class="docstring"><p>Get the available columns of the specified matrix.</p>

<p>Only the table names and columns that have a one-to-one relation will be returned.
This function does not raise errors and will return an empty dictionary when
the specified matrix is not present in the dataset.</p>

<p>Args:
    matrix_name: the name of the matrix to get the available columns of.</p>

<p>Returns:
    a dictionary containing the table names as key and the available columns as value.</p>
</div>


                            </div>
                            <div id="DatasetConfig.to_yml_format" class="classattr">
                                        <input id="DatasetConfig.to_yml_format-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_yml_format</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="DatasetConfig.to_yml_format-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DatasetConfig.to_yml_format"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DatasetConfig.to_yml_format-347"><a href="#DatasetConfig.to_yml_format-347"><span class="linenos">347</span></a>    <span class="k">def</span> <span class="nf">to_yml_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="DatasetConfig.to_yml_format-348"><a href="#DatasetConfig.to_yml_format-348"><span class="linenos">348</span></a>        <span class="sd">&quot;&quot;&quot;Format dataset configuration to a yml compatible dictionary.</span>
</span><span id="DatasetConfig.to_yml_format-349"><a href="#DatasetConfig.to_yml_format-349"><span class="linenos">349</span></a>
</span><span id="DatasetConfig.to_yml_format-350"><a href="#DatasetConfig.to_yml_format-350"><span class="linenos">350</span></a><span class="sd">        Returns:</span>
</span><span id="DatasetConfig.to_yml_format-351"><a href="#DatasetConfig.to_yml_format-351"><span class="linenos">351</span></a><span class="sd">            a dictionary containing the dataset configuration.</span>
</span><span id="DatasetConfig.to_yml_format-352"><a href="#DatasetConfig.to_yml_format-352"><span class="linenos">352</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DatasetConfig.to_yml_format-353"><a href="#DatasetConfig.to_yml_format-353"><span class="linenos">353</span></a>        <span class="n">yml_format</span> <span class="o">=</span> <span class="p">{</span><span class="n">KEY_DATASET</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset_name</span><span class="p">}</span>
</span><span id="DatasetConfig.to_yml_format-354"><a href="#DatasetConfig.to_yml_format-354"><span class="linenos">354</span></a>
</span><span id="DatasetConfig.to_yml_format-355"><a href="#DatasetConfig.to_yml_format-355"><span class="linenos">355</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DatasetConfig.to_yml_format-356"><a href="#DatasetConfig.to_yml_format-356"><span class="linenos">356</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">KEY_EVENTS</span><span class="p">]</span> <span class="o">=</span> <span class="n">format_yml_config_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">)</span>
</span><span id="DatasetConfig.to_yml_format-357"><a href="#DatasetConfig.to_yml_format-357"><span class="linenos">357</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DatasetConfig.to_yml_format-358"><a href="#DatasetConfig.to_yml_format-358"><span class="linenos">358</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">KEY_MATRICES</span><span class="p">]</span> <span class="o">=</span> <span class="n">format_yml_config_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrices</span><span class="p">)</span>
</span><span id="DatasetConfig.to_yml_format-359"><a href="#DatasetConfig.to_yml_format-359"><span class="linenos">359</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tables</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DatasetConfig.to_yml_format-360"><a href="#DatasetConfig.to_yml_format-360"><span class="linenos">360</span></a>            <span class="n">yml_format</span><span class="p">[</span><span class="n">KEY_TABLES</span><span class="p">]</span> <span class="o">=</span> <span class="n">format_yml_config_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tables</span><span class="p">)</span>
</span><span id="DatasetConfig.to_yml_format-361"><a href="#DatasetConfig.to_yml_format-361"><span class="linenos">361</span></a>
</span><span id="DatasetConfig.to_yml_format-362"><a href="#DatasetConfig.to_yml_format-362"><span class="linenos">362</span></a>        <span class="k">return</span> <span class="n">yml_format</span>
</span></pre></div>


            <div class="docstring"><p>Format dataset configuration to a yml compatible dictionary.</p>

<p>Returns:
    a dictionary containing the dataset configuration.</p>
</div>


                            </div>
                </section>
                <section id="create_dataset_table_config">
                            <input id="create_dataset_table_config-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_dataset_table_config</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">primary_key</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">compression</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">foreign_keys</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">header</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">indexed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">num_records</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">sep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">src</span><span class="o">.</span><span class="n">fairreckitlib</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">dataset_config</span><span class="o">.</span><span class="n">DatasetTableConfig</span>:</span></span>

                <label class="view-source-button" for="create_dataset_table_config-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#create_dataset_table_config"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="create_dataset_table_config-365"><a href="#create_dataset_table_config-365"><span class="linenos">365</span></a><span class="k">def</span> <span class="nf">create_dataset_table_config</span><span class="p">(</span>
</span><span id="create_dataset_table_config-366"><a href="#create_dataset_table_config-366"><span class="linenos">366</span></a>        <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="create_dataset_table_config-367"><a href="#create_dataset_table_config-367"><span class="linenos">367</span></a>        <span class="n">primary_key</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
</span><span id="create_dataset_table_config-368"><a href="#create_dataset_table_config-368"><span class="linenos">368</span></a>        <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
</span><span id="create_dataset_table_config-369"><a href="#create_dataset_table_config-369"><span class="linenos">369</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="create_dataset_table_config-370"><a href="#create_dataset_table_config-370"><span class="linenos">370</span></a>        <span class="n">compression</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="create_dataset_table_config-371"><a href="#create_dataset_table_config-371"><span class="linenos">371</span></a>        <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="create_dataset_table_config-372"><a href="#create_dataset_table_config-372"><span class="linenos">372</span></a>        <span class="n">foreign_keys</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="create_dataset_table_config-373"><a href="#create_dataset_table_config-373"><span class="linenos">373</span></a>        <span class="n">header</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="create_dataset_table_config-374"><a href="#create_dataset_table_config-374"><span class="linenos">374</span></a>        <span class="n">indexed</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="create_dataset_table_config-375"><a href="#create_dataset_table_config-375"><span class="linenos">375</span></a>        <span class="n">num_records</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="create_dataset_table_config-376"><a href="#create_dataset_table_config-376"><span class="linenos">376</span></a>        <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DatasetTableConfig</span><span class="p">:</span>
</span><span id="create_dataset_table_config-377"><a href="#create_dataset_table_config-377"><span class="linenos">377</span></a>    <span class="sd">&quot;&quot;&quot;Create a dataset table configuration.</span>
</span><span id="create_dataset_table_config-378"><a href="#create_dataset_table_config-378"><span class="linenos">378</span></a>
</span><span id="create_dataset_table_config-379"><a href="#create_dataset_table_config-379"><span class="linenos">379</span></a><span class="sd">    Args:</span>
</span><span id="create_dataset_table_config-380"><a href="#create_dataset_table_config-380"><span class="linenos">380</span></a><span class="sd">        file_name: name of the dataset table file.</span>
</span><span id="create_dataset_table_config-381"><a href="#create_dataset_table_config-381"><span class="linenos">381</span></a><span class="sd">        primary_key: a list of strings that are combined the primary key of the table.</span>
</span><span id="create_dataset_table_config-382"><a href="#create_dataset_table_config-382"><span class="linenos">382</span></a><span class="sd">        columns: a list of strings with other available columns in the table.</span>
</span><span id="create_dataset_table_config-383"><a href="#create_dataset_table_config-383"><span class="linenos">383</span></a><span class="sd">        compression:  the (optional) compression of the file, &#39;bz2&#39; is recommended.</span>
</span><span id="create_dataset_table_config-384"><a href="#create_dataset_table_config-384"><span class="linenos">384</span></a><span class="sd">        encoding: the encoding for reading/writing the table contents or None for &#39;utf-8&#39;.</span>
</span><span id="create_dataset_table_config-385"><a href="#create_dataset_table_config-385"><span class="linenos">385</span></a><span class="sd">        foreign_keys: (optional) list of column names that are foreign keys in other tables.</span>
</span><span id="create_dataset_table_config-386"><a href="#create_dataset_table_config-386"><span class="linenos">386</span></a><span class="sd">        header: whether the table file contains a header on the first line.</span>
</span><span id="create_dataset_table_config-387"><a href="#create_dataset_table_config-387"><span class="linenos">387</span></a><span class="sd">        indexed: are the row indices the table&#39;s primary key.</span>
</span><span id="create_dataset_table_config-388"><a href="#create_dataset_table_config-388"><span class="linenos">388</span></a><span class="sd">        num_records: the number of records in the table.</span>
</span><span id="create_dataset_table_config-389"><a href="#create_dataset_table_config-389"><span class="linenos">389</span></a><span class="sd">        sep: the delimiter that is used in the table or None for a tab separator.</span>
</span><span id="create_dataset_table_config-390"><a href="#create_dataset_table_config-390"><span class="linenos">390</span></a>
</span><span id="create_dataset_table_config-391"><a href="#create_dataset_table_config-391"><span class="linenos">391</span></a><span class="sd">    Returns:</span>
</span><span id="create_dataset_table_config-392"><a href="#create_dataset_table_config-392"><span class="linenos">392</span></a><span class="sd">        the resulting data table configuration.</span>
</span><span id="create_dataset_table_config-393"><a href="#create_dataset_table_config-393"><span class="linenos">393</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="create_dataset_table_config-394"><a href="#create_dataset_table_config-394"><span class="linenos">394</span></a>    <span class="k">return</span> <span class="n">DatasetTableConfig</span><span class="p">(</span>
</span><span id="create_dataset_table_config-395"><a href="#create_dataset_table_config-395"><span class="linenos">395</span></a>        <span class="n">primary_key</span><span class="p">,</span>
</span><span id="create_dataset_table_config-396"><a href="#create_dataset_table_config-396"><span class="linenos">396</span></a>        <span class="n">foreign_keys</span><span class="p">,</span>
</span><span id="create_dataset_table_config-397"><a href="#create_dataset_table_config-397"><span class="linenos">397</span></a>        <span class="n">columns</span><span class="p">,</span>
</span><span id="create_dataset_table_config-398"><a href="#create_dataset_table_config-398"><span class="linenos">398</span></a>        <span class="n">num_records</span><span class="p">,</span>
</span><span id="create_dataset_table_config-399"><a href="#create_dataset_table_config-399"><span class="linenos">399</span></a>        <span class="n">DatasetFileConfig</span><span class="p">(</span>
</span><span id="create_dataset_table_config-400"><a href="#create_dataset_table_config-400"><span class="linenos">400</span></a>            <span class="n">file_name</span><span class="p">,</span>
</span><span id="create_dataset_table_config-401"><a href="#create_dataset_table_config-401"><span class="linenos">401</span></a>            <span class="n">sep</span><span class="p">,</span>
</span><span id="create_dataset_table_config-402"><a href="#create_dataset_table_config-402"><span class="linenos">402</span></a>            <span class="n">compression</span><span class="p">,</span>
</span><span id="create_dataset_table_config-403"><a href="#create_dataset_table_config-403"><span class="linenos">403</span></a>            <span class="n">encoding</span><span class="p">,</span>
</span><span id="create_dataset_table_config-404"><a href="#create_dataset_table_config-404"><span class="linenos">404</span></a>            <span class="n">header</span><span class="p">,</span>
</span><span id="create_dataset_table_config-405"><a href="#create_dataset_table_config-405"><span class="linenos">405</span></a>            <span class="n">indexed</span>
</span><span id="create_dataset_table_config-406"><a href="#create_dataset_table_config-406"><span class="linenos">406</span></a>        <span class="p">)</span>
</span><span id="create_dataset_table_config-407"><a href="#create_dataset_table_config-407"><span class="linenos">407</span></a>    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create a dataset table configuration.</p>

<p>Args:
    file_name: name of the dataset table file.
    primary_key: a list of strings that are combined the primary key of the table.
    columns: a list of strings with other available columns in the table.
    compression:  the (optional) compression of the file, 'bz2' is recommended.
    encoding: the encoding for reading/writing the table contents or None for 'utf-8'.
    foreign_keys: (optional) list of column names that are foreign keys in other tables.
    header: whether the table file contains a header on the first line.
    indexed: are the row indices the table's primary key.
    num_records: the number of records in the table.
    sep: the delimiter that is used in the table or None for a tab separator.</p>

<p>Returns:
    the resulting data table configuration.</p>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.type) {
                    case "function":
                        heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span><span class="signature">${doc.signature}:</span>`;
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value">${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.type}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>